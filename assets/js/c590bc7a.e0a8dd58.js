"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7627],{3905:(e,n,t)=>{t.d(n,{Zo:()=>i,kt:()=>m});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},i=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},k=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),p=u(t),k=r,m=p["".concat(s,".").concat(k)]||p[k]||d[k]||o;return t?a.createElement(m,l(l({ref:n},i),{},{components:t})):a.createElement(m,l({ref:n},i))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=k;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c[p]="string"==typeof e?e:r,l[1]=c;for(var u=2;u<o;u++)l[u]=t[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}k.displayName="MDXCreateElement"},7300:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>k,frontMatter:()=>l,metadata:()=>s,toc:()=>i});t(7294);var a=t(3905);function r(){return r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},r.apply(this,arguments)}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const l={title:"Linux \u8bbe\u7f6e\u9759\u6001 IP",date:new Date("2020-05-26T00:00:00.000Z"),category:["linux"],tag:["linux"]},c=void 0,s={unversionedId:"linux/static_ip",id:"linux/static_ip",title:"Linux \u8bbe\u7f6e\u9759\u6001 IP",description:"Debian",source:"@site/docs/linux/static_ip.md",sourceDirName:"linux",slug:"/linux/static_ip",permalink:"/docs/linux/static_ip",draft:!1,tags:[],version:"current",lastUpdatedAt:1675912862,formattedLastUpdatedAt:"2023\u5e742\u67089\u65e5",frontMatter:{title:"Linux \u8bbe\u7f6e\u9759\u6001 IP",date:"2020-05-26T00:00:00.000Z",category:["linux"],tag:["linux"]},sidebar:"linux",previous:{title:"ssh \u547d\u4ee4\u89e3\u6790",permalink:"/docs/linux/ssh"},next:{title:"\u4e24\u6b65\u9a8c\u8bc1",permalink:"/docs/linux/two-factor-authentication"}},u={},i=[{value:"Debian",id:"debian",level:2},{value:"Ubuntu",id:"ubuntu",level:2},{value:"Ubuntu 22",id:"ubuntu-22",level:3},{value:"Ubuntu 18.04 +",id:"ubuntu-1804-",level:3},{value:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",id:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6",level:4},{value:"Ubuntu 16",id:"ubuntu-16",level:3},{value:"\u4fee\u6539 <code>/etc/network/interfaces</code>",id:"\u4fee\u6539-etcnetworkinterfaces",level:4},{value:"\u914d\u7f6e <code>/etc/resolv.conf</code>",id:"\u914d\u7f6e-etcresolvconf",level:3},{value:"\u5b89\u88c5 resolvconf \u670d\u52a1",id:"\u5b89\u88c5-resolvconf-\u670d\u52a1",level:4},{value:"\u914d\u7f6e resolvconf",id:"\u914d\u7f6e-resolvconf",level:4},{value:"CentOS",id:"centos",level:2},{value:"\u8865\u5145",id:"\u8865\u5145",level:2},{value:"\u67e5\u770b\u7f51\u5173",id:"\u67e5\u770b\u7f51\u5173",level:3},{value:"\u8bbe\u7f6e\u9ed8\u8ba4\u7f51\u5173",id:"\u8bbe\u7f6e\u9ed8\u8ba4\u7f51\u5173",level:3},{value:"\u91cd\u542f\u7f51\u5173",id:"\u91cd\u542f\u7f51\u5173",level:3}],p={toc:i},d="wrapper";function k(e){var{components:n}=e,t=o(e,["components"]);return(0,a.kt)(d,r({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",r({},{id:"debian"}),"Debian"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-shell"}),"vi /etc/network/interfaces\n\n# This file describes the network interfaces available on your system\n# and how to activate them. For more information, see interfaces(5).\n\nsource /etc/network/interfaces.d/*\n\n# The loopback network interface\nauto lo\niface lo inet loopback\n\n# The primary network interface\nallow-hotplug eno1\n\niface eno1 inet static\naddress 10.8.40.130\nnetmask 255.255.255.0\ngateway 10.8.40.1\ndns-nameservers 114.114.114.114 223.5.5.5\n\n")),(0,a.kt)("h2",r({},{id:"ubuntu"}),"Ubuntu"),(0,a.kt)("h3",r({},{id:"ubuntu-22"}),"Ubuntu 22"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u7f16\u8f91 ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/netplan/"),"\u4e0b\u7684yaml\u6587\u4ef6"),(0,a.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u6587\u4ef6\u540d\u662f ",(0,a.kt)("inlineCode",{parentName:"p"},"00-installer-config.yaml"))),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"sudo vi /etc/netplan/00-installer-config.yaml\n\nnetwork:\n  version: 2\n  ethernets:\n    eno1:\n      dhcp4: no\n      addresses:\n      - 10.8.40.125/24\n      routes:\n        - to: default\n          via: 10.8.40.1        \n      nameservers:\n        addresses:\n        - 114.114.114.114\n        - 223.5.5.5\n        search: [localdomain]\n      optional: true\n    eno2:\n      dhcp4: true\n    eno3:\n      dhcp4: true\n    eno4:\n      dhcp4: true\n\nsudo netplan apply\n")),(0,a.kt)("h3",r({},{id:"ubuntu-1804-"}),"Ubuntu 18.04 +"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u539f\u6765\u8bbe\u7f6e ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/network/interfaces")," \u7684\u65b9\u6cd5\u8fd8\u53ef\u4ee5\u7528\uff0c\u53ea\u662f\u8bbe\u7f6e\u7684dns\u6ca1\u6709\u7528\n\u65b0\u7684\u914d\u7f6e\u4f7f\u7528 netplan \u7ba1\u7406")),(0,a.kt)("h4",r({},{id:"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"}),"\u4fee\u6539\u914d\u7f6e\u6587\u4ef6"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u7f16\u8f91 ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/netplan/"),"\u4e0b\u7684yaml\u6587\u4ef6"),(0,a.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u6587\u4ef6\u540d\u662f ",(0,a.kt)("inlineCode",{parentName:"p"},"01-network-manager-all.yaml"))),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"sudo vi /etc/netplan/01-network-manager-all.yaml\n\n# \u6ce8\u91ca\u6389 renderer:NetworkManager\n\nnetwork:\n    version: 2\n    ethernets: \n        # \u7f51\u7edc\u540d\n        enp0s3:\n            # \u4e00\u4e2aip\u6570\u7ec4\uff0c\u7528 \u2018,\u2019 \u9694\u5f00\n            addresses: [10.8.40.119/24]\n            # \u4f7f\u7528dhcp \u52a8\u6001\u83b7\u53d6ip: true/no\n            dhcp4: no\n            # ipv4 \u7f51\u5173\n            gateway4: 10.8.40.1\n            # dns\n            nameservers: \n                addresses: [114.114.114.114]\n                search: [localdomain]\n            optional: true\n\n# \u7acb\u5373\u751f\u6548\nsudo netplan apply\n")),(0,a.kt)("h3",r({},{id:"ubuntu-16"}),"Ubuntu 16"),(0,a.kt)("h4",r({},{id:"\u4fee\u6539-etcnetworkinterfaces"}),"\u4fee\u6539 ",(0,a.kt)("inlineCode",{parentName:"h4"},"/etc/network/interfaces")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"sudo vi  /etc/network/interfaces\n")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-ini"}),"auto eno4\niface eno4 inet static\naddress 10.8.30.176\nnetmask 255.255.255.0\ngateway 10.8.30.1\ndns-nameserver 114.114.114.114\n")),(0,a.kt)("h3",r({},{id:"\u914d\u7f6e-etcresolvconf"}),"\u914d\u7f6e ",(0,a.kt)("inlineCode",{parentName:"h3"},"/etc/resolv.conf")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4ee5\u4e0a\u914d\u7f6e\u5b8c\u6210\u5c31\u53ef\u4ee5\u4e86\n\u5982\u679c\u662fdesktop \u7248\u672c\u53ef\u80fd\u8bbe\u7f6e\u7684dns\u4e0d\u80fd\u4f7f /etc/resolv.conf\u751f\u6548. \u91cd\u542f\u53c8\u6062\u590d\u5230\u9ed8\u8ba4")),(0,a.kt)("h4",r({},{id:"\u5b89\u88c5-resolvconf-\u670d\u52a1"}),"\u5b89\u88c5 resolvconf \u670d\u52a1"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"sudo apt-get update\nsudo apt-get install resolvconf\n")),(0,a.kt)("h4",r({},{id:"\u914d\u7f6e-resolvconf"}),"\u914d\u7f6e resolvconf"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4fee\u6539 /etc/resolvconf/resolv.conf.d/head")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"vi /etc/resolvconf/resolv.conf.d/head\n# \u589e\u52a0\nnameserver 223.5.5.5\nnameserver 223.6.6.6\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4fdd\u5b58\u9000\u51fa\uff0c\u6267\u884c")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"resolvconf -u\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u67e5\u770b /etc/resolv.conf, \u91cd\u542f\u518d\u770b")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"cat /etc/resolv.conf\n")),(0,a.kt)("h2",r({},{id:"centos"}),"CentOS"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u914d\u7f6e\u6587\u4ef6\u5728 ",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/sysconfig/network-scripts ")," \u4e0b"),(0,a.kt)("p",{parentName:"blockquote"},"\u8fd9\u91cc\u6d4b\u8bd5\u673a\u6587\u4ef6\u540d\u4e3a\uff1aifcfg-enp0s3"),(0,a.kt)("p",{parentName:"blockquote"},"\u4fee\u6539 ifcfg-enp0s3 \u6587\u4ef6")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"vi /etc/sysconfig/network-scripts/ifcfg-enp0s3\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u9ed8\u8ba4\u914d\u7f6e")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\nBOOTPROTO=dhcp\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=enp0s3\nUUID=64a31304-95d8-4ab6-961e-8d5db92f8cc0\nDEVICE=enp0s3\nONBOOT=no\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4fee\u6539\u4e3a")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"TYPE=Ethernet\nPROXY_METHOD=none\nBROWSER_ONLY=no\n#BOOTPROTO=dhcp\nDEFROUTE=yes\nIPV4_FAILURE_FATAL=no\nIPV6INIT=yes\nIPV6_AUTOCONF=yes\nIPV6_DEFROUTE=yes\nIPV6_FAILURE_FATAL=no\nIPV6_ADDR_GEN_MODE=stable-privacy\nNAME=enp0s3\nUUID=64a31304-95d8-4ab6-961e-8d5db92f8cc0\nDEVICE=enp0s3\n#ONBOOT=no\n\n#static assignment\nNM_CONTROLLED=no\nONBOOT=yes\nBOOTPROTO=static\nIPADDR=192.168.0.116\nNETMASK=255.255.255.0\nGATEWAY=192.168.0.1\n\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u4fee\u6539/etc/sysconfig/network")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u9ed8\u8ba4\u4e3a\u7a7a")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"# Created by anaconda\nNETWORKING=yes\nGATEWAY=192.168.0.1\nDNS1=114.114.114.114\n")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u91cd\u542f\u670d\u52a1")),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"service network restart\n")),(0,a.kt)("h2",r({},{id:"\u8865\u5145"}),"\u8865\u5145"),(0,a.kt)("h3",r({},{id:"\u67e5\u770b\u7f51\u5173"}),"\u67e5\u770b\u7f51\u5173"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"# \u67e5\u770b\u7f51\u5173\nnetstat -rn \n# \u6216\nroute -n\n\n")),(0,a.kt)("h3",r({},{id:"\u8bbe\u7f6e\u9ed8\u8ba4\u7f51\u5173"}),"\u8bbe\u7f6e\u9ed8\u8ba4\u7f51\u5173"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"route add default gw 10.8.30.1\n")),(0,a.kt)("h3",r({},{id:"\u91cd\u542f\u7f51\u5173"}),"\u91cd\u542f\u7f51\u5173"),(0,a.kt)("pre",null,(0,a.kt)("code",r({parentName:"pre"},{className:"language-bash"}),"/etc/init.d/networking restart\n")))}k.isMDXComponent=!0}}]);