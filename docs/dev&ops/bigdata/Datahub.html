<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-dev&ops/bigdata/Datahub">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">æ•°æ®ç›®å½• | Loong&#x27;s Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vinloong.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vinloong.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="æ•°æ®ç›®å½• | Loong&#x27;s Wiki"><meta data-rh="true" name="description" content="æ•°æ®ç›®å½•ï¼Œå®ƒæ˜¯æ•°æ®æ¹–ä¸­æ‰€æœ‰å¤§æ•°æ®çš„ç›®å½•ã€‚é€šè¿‡å°†å…ƒæ•°æ®åº”ç”¨äºæ•°æ®æ¹–ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œæ•°æ®å‘ç°å’Œæ²»ç†å˜å¾—æ›´åŠ å®¹æ˜“ã€‚é€šè¿‡å°†å…ƒæ•°æ®å’Œåˆ†å±‚é€»è¾‘åº”ç”¨äºä¼ å…¥æ•°æ®ï¼Œæ•°æ®é›†æ¥æ”¶å¿…é¡»è¦çš„ä¸Šä¸‹æ–‡å’Œå¯è·Ÿè¸ªçš„è¡€ç¼˜å…³ç³»ï¼Œä»¥ä¾¿åœ¨å·¥ä½œæµä¸­æœ‰æ•ˆä½¿ç”¨ã€‚æ•°æ®æºåƒä¸€æ¡æ¡å°æºªï¼Œæœ€ç»ˆå°†æ•°æ®å€¾å€’å…¥æ•°æ®æ¹–ä¸­ï¼Œå¦‚æœç¼ºä¹æ•°æ®ç›®å½•çš„ç»„ç»‡çº§åˆ«ï¼Œæœ€ç»ˆæ•°æ®æ¹–ä¼šå˜æˆæ•°æ®æ²¼æ³½ã€‚"><meta data-rh="true" property="og:description" content="æ•°æ®ç›®å½•ï¼Œå®ƒæ˜¯æ•°æ®æ¹–ä¸­æ‰€æœ‰å¤§æ•°æ®çš„ç›®å½•ã€‚é€šè¿‡å°†å…ƒæ•°æ®åº”ç”¨äºæ•°æ®æ¹–ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œæ•°æ®å‘ç°å’Œæ²»ç†å˜å¾—æ›´åŠ å®¹æ˜“ã€‚é€šè¿‡å°†å…ƒæ•°æ®å’Œåˆ†å±‚é€»è¾‘åº”ç”¨äºä¼ å…¥æ•°æ®ï¼Œæ•°æ®é›†æ¥æ”¶å¿…é¡»è¦çš„ä¸Šä¸‹æ–‡å’Œå¯è·Ÿè¸ªçš„è¡€ç¼˜å…³ç³»ï¼Œä»¥ä¾¿åœ¨å·¥ä½œæµä¸­æœ‰æ•ˆä½¿ç”¨ã€‚æ•°æ®æºåƒä¸€æ¡æ¡å°æºªï¼Œæœ€ç»ˆå°†æ•°æ®å€¾å€’å…¥æ•°æ®æ¹–ä¸­ï¼Œå¦‚æœç¼ºä¹æ•°æ®ç›®å½•çš„ç»„ç»‡çº§åˆ«ï¼Œæœ€ç»ˆæ•°æ®æ¹–ä¼šå˜æˆæ•°æ®æ²¼æ³½ã€‚"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub"><link data-rh="true" rel="alternate" href="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Loong&#39;s Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Loong&#39;s Wiki Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Loong&#39;s Wiki JSON Feed">






<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.dfd1a4d8.css">
<link rel="preload" href="/assets/js/runtime~main.68f25493.js" as="script">
<link rel="preload" href="/assets/js/main.88d057a0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">Loong&#x27;s Wiki</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/category/docs">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/docs/kubernetes">kubernetes</a><a class="navbar__item navbar__link" href="/docs/linux">linux</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/dev&amp;ops/Jenkins-faq">dev&amp;ops</a><a class="navbar__item navbar__link" href="/docs/others/exerclse/01">others</a><a class="navbar__item navbar__link" href="/blog">åšå®¢</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ğŸ”– å¸¸ç”¨ä¹¦ç­¾</a><ul class="dropdown__menu"><li class="dropdown-archived"><b>å¼€æºé•œåƒç«™</b></li><li><a href="https://mirrors.ustc.edu.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦é•œåƒç«™<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://mirrors.huaweicloud.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">åä¸ºå¼€æºé•œåƒç«™<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener noreferrer" class="dropdown__link">é˜¿é‡Œé•œåƒç«™<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/vinloong/wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"><b>Loong&#x27;s Wiki</b></a><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/Jenkins-faq">Jenkins é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/Prometheus/PromQL">Prometheus</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/WSL2 å®‰è£…å’Œä½¿ç”¨">wsl install</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/dev&amp;ops/bigdata">bigdata</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€Œbigdataã€" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/dev&amp;ops/bigdata/Datahub">æ•°æ®ç›®å½•</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev&amp;ops/bigdata/RelatedTerms">RelatedTerms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev&amp;ops/bigdata/linkedin-datahub">datahub</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/dev&amp;ops/ceph">CEPH</a><button aria-label="æ‰“å¼€/æ”¶èµ·ä¾§è¾¹æ èœå•ã€ŒCEPHã€" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/choco">choco install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/devops-tools.md">CI/CD å·¥å…·é“¾</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/es/eck">es</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/faq">faq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/ffaq">ffaq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/flink">flink ä¸‰ç§éƒ¨ç½²æ¨¡å¼</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/git/FAQ">git</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/git-dev">Gitä½¿ç”¨æ‰‹å†Œ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/git">git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/github-repositories">ä¸€äº›å¼€æºé¡¹ç›®èµ„æºæ•´ç†</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/golang/base">golang</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/jenkins-in-k8s">jenkins in k8s</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/kafka/kafka-common">kafka</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/matplotlib-start">JupyterLab quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/monting">monting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/nfs">æ­å»º NFS æœåŠ¡å™¨</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/nginx-faq">nginx é™åˆ¶IPè®¿é—®</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/nodejs/faq">nodejs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/postgres">postgres install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/postgresql-optimization">postgresql ä¼˜åŒ–</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/python/faq">python</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/sonarqube">sonarqube quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/sublime">sublime ä½¿ç”¨æŠ€å·§</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/two-factor-authentication">ä¸¤æ­¥éªŒè¯(2FA)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/vs_community-install-offline">vs studio ç¦»çº¿å®‰è£…</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/windows-commands">command in windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/wsl">wsl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/wsl2-install-systemd">wsl2 intall systemd</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/ç”¨dockeræ„å»ºä½ çš„å¼€å‘ç¯å¢ƒ">WSL å¿«é€Ÿå…¥é—¨</a></li></ul></nav><button type="button" title="æ”¶èµ·ä¾§è¾¹æ " aria-label="æ”¶èµ·ä¾§è¾¹æ " class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/dev&amp;ops/bigdata"><span itemprop="name">bigdata</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">æ•°æ®ç›®å½•</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>æ•°æ®ç›®å½•</h1></header><p>æ•°æ®ç›®å½•ï¼Œå®ƒæ˜¯æ•°æ®æ¹–ä¸­æ‰€æœ‰<a href="https://www.oracle.com/big-data/guide/what-is-big-data.html" target="_blank" rel="noopener noreferrer">å¤§æ•°æ®çš„ç›®å½•ã€‚</a>é€šè¿‡å°†å…ƒæ•°æ®åº”ç”¨äºæ•°æ®æ¹–ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œæ•°æ®å‘ç°å’Œæ²»ç†å˜å¾—æ›´åŠ å®¹æ˜“ã€‚é€šè¿‡å°†å…ƒæ•°æ®å’Œåˆ†å±‚é€»è¾‘åº”ç”¨äºä¼ å…¥æ•°æ®ï¼Œæ•°æ®é›†æ¥æ”¶å¿…é¡»è¦çš„ä¸Šä¸‹æ–‡å’Œå¯è·Ÿè¸ªçš„è¡€ç¼˜å…³ç³»ï¼Œä»¥ä¾¿åœ¨å·¥ä½œæµä¸­æœ‰æ•ˆä½¿ç”¨ã€‚æ•°æ®æºåƒä¸€æ¡æ¡å°æºªï¼Œæœ€ç»ˆå°†æ•°æ®å€¾å€’å…¥æ•°æ®æ¹–ä¸­ï¼Œå¦‚æœç¼ºä¹æ•°æ®ç›®å½•çš„ç»„ç»‡çº§åˆ«ï¼Œæœ€ç»ˆæ•°æ®æ¹–ä¼šå˜æˆæ•°æ®æ²¼æ³½ã€‚</p><p><a href="https://cloud.tencent.com/developer/article/1746714" target="_blank" rel="noopener noreferrer">Datahub VS Atlas VS Amundsen</a></p><table><thead><tr><th align="left">æœç´¢</th><th align="left">æ¨è</th><th align="left">è¡¨æè¿°</th><th align="left">æ•°æ®é¢„è§ˆ</th><th align="left">åˆ—ç»Ÿè®¡</th><th align="left">å ç”¨æŒ‡æ ‡</th><th align="left">æƒé™</th><th align="left">æ’å</th><th align="left">æ•°æ®è¡€ç»Ÿ</th><th align="left">æ”¹å˜é€šçŸ¥</th><th align="left">å¼€æº</th><th align="left">æ–‡æ¡£</th><th align="left">æ”¯æŒæ•°æ®æº</th><th></th></tr></thead><tbody><tr><td align="left">Amundsen (Lyft)</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">Todo</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td>Hive, Redshift, Druid, RDBMS, Presto, Snowflake, etc.</td></tr><tr><td align="left">Datahub (LinkedIn)</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td>Hive, Kafka, RDBMS</td></tr><tr><td align="left">Metacat (Netflix)</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left"></td><td align="left">Todo</td><td align="left"></td><td align="left">Todo</td><td align="left">âœ”</td><td align="left"></td><td>Hive, RDS, Teradata, Redshift, S3, Cassandra</td></tr><tr><td align="left">Atlas (Apache)</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td>HBase, Hive, Sqoop, Kafka, Storm</td></tr><tr><td align="left">Marquez (Weworkï¼‰</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td>S3, Kafka</td></tr><tr><td align="left">Databook (Uber)</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td>Hive, Vertica, MySQL, Postgress, Cassandra</td></tr><tr><td align="left">Dataportal (Airbnb)</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td>Unknown</td></tr><tr><td align="left">Data Access Layer (Twitter)</td><td align="left">âœ”</td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td>HDFS, Vertica, MySQL</td></tr><tr><td align="left">Lexikon (Spotify)</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">âœ”</td><td align="left">âœ”</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td>Unknown</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="datahub">DataHub<a href="#datahub" class="hash-link" aria-label="DataHubçš„ç›´æ¥é“¾æ¥" title="DataHubçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://datahubproject.io/docs/quickstart/" target="_blank" rel="noopener noreferrer">å®˜ç½‘å…¥é—¨</a></p><p><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer">https://github.com/linkedin/datahub</a> â­4.7k</p><p>DataHub æ˜¯ä¸€ä¸ªç°ä»£æ•°æ®ç›®å½•ï¼Œæ—¨åœ¨æ”¯æŒç«¯åˆ°ç«¯æ•°æ®å‘ç°ã€æ•°æ®å¯è§‚å¯Ÿæ€§å’Œæ•°æ®æ²»ç†ã€‚è¿™ä¸ªå¯æ‰©å±•çš„å…ƒæ•°æ®å¹³å°æ˜¯ä¸ºå¼€å‘äººå‘˜æ„å»ºçš„ï¼Œè®©ä»–ä»¬å¯ä»¥é€‚åº”å¿«é€Ÿå˜é©çš„æ•°æ®ç”Ÿæ€ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¹¶è®©æ•°æ®ä»ä¸šè€…åœ¨å…¶ç»„ç»‡å†…åˆ©ç”¨æ•°æ®çš„å…¨éƒ¨ä»·å€¼ã€‚</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å®‰è£…">å®‰è£…<a href="#å®‰è£…" class="hash-link" aria-label="å®‰è£…çš„ç›´æ¥é“¾æ¥" title="å®‰è£…çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>python3</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic"># ubuntuä¸­å·²ç»é¢„è£…pythonå’Œpython3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># æ‰§è¡Œpython3 -m pip æç¤º pipæ¨¡å—æ‰¾ä¸åˆ°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> python3-pip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>docker-compose</p><p>å‚è€ƒ:<a href="https://blog.csdn.net/pushiqiang/article/details/78682323" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/pushiqiang/article/details/78682323</a></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">curl</span><span class="token plain"> -L </span><span class="token string" style="color:#C6105F">&quot;https://github.com/docker/compose/releases/download/1.29.1/docker-compose-</span><span class="token string variable" style="color:#E36209">$(</span><span class="token string variable function" style="color:#8250DF">uname</span><span class="token string variable" style="color:#E36209"> -s</span><span class="token string variable" style="color:#E36209">)</span><span class="token string" style="color:#C6105F">-</span><span class="token string variable" style="color:#E36209">$(</span><span class="token string variable function" style="color:#8250DF">uname</span><span class="token string variable" style="color:#E36209"> -m</span><span class="token string variable" style="color:#E36209">)</span><span class="token string" style="color:#C6105F">&quot;</span><span class="token plain"> -o /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">chmod</span><span class="token plain"> +x /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®‰è£…DataHub CLI</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip install --upgrade pip wheel setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip uninstall datahub acryl-datahub || true  # sanity check - ok if it fails</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip install --upgrade acryl-datahub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datahub version # æˆ– python3 -m datahub version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ‰§è¡Œquick-start</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">datahub docker quickstart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>@TODO å¯åŠ¨å¤±è´¥</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="amundsen">Amundsen<a href="#amundsen" class="hash-link" aria-label="Amundsençš„ç›´æ¥é“¾æ¥" title="Amundsençš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://www.amundsen.io/amundsen/" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/</a></p><p><a href="https://github.com/amundsen-io/amundsen" target="_blank" rel="noopener noreferrer">https://github.com/amundsen-io/amundsen</a> â­3k</p><p>Amundsen æ˜¯ä¸€ä¸ªæ•°æ®å‘ç°å’Œå…ƒæ•°æ®å¼•æ“ï¼Œç”¨äºæé«˜æ•°æ®åˆ†æå¸ˆã€æ•°æ®ç§‘å­¦å®¶å’Œå·¥ç¨‹å¸ˆåœ¨ä¸æ•°æ®äº¤äº’æ—¶çš„å·¥ä½œæ•ˆç‡ã€‚</p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281601478.png" class="img_ev3q"></p><p>Amundsençš„æ¶æ„ï¼š</p><p>å‰ç«¯ï¼šåŸºäºFlaskçš„webåº”ç”¨ä¾§ï¼Œå±•ç¤ºå±‚åŸºäºReact with Redux, Bootstrap, Webpack, and Babel.</p><p>æœç´¢ï¼šåŸºäºElasticSearchå¹¶æä¾›RESTful APIè¿›è¡Œæœç´¢æœåŠ¡ã€‚æœç´¢ç´¢å¼•åŸºäºDatabuilder elasticsearch publisher.</p><p>å…ƒæ•°æ®ï¼šä½¿ç”¨Neo4jä»£ç†ä¸Neo4jå›¾å½¢æ•°æ®åº“äº¤äº’ï¼Œæä¾›å…ƒæ•°æ®æœåŠ¡ã€‚Amundsenä¸­çš„å…ƒæ•°æ®æ¨¡å‹å¦‚ä¸‹å›¾ï¼š</p><p>DataBuilder: æä¾›æ•°æ®æ‘„å–åº“æ„å»ºå…ƒæ•°æ®ã€‚</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281552420.png" alt="img" class="img_ev3q"></p><p>Quick Start:</p><p>å‡†å¤‡é˜¶æ®µï¼Œå®‰è£…python&gt;=3.7</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># python &gt; 3.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install zlib1g-dev libbz2-dev libssl-dev libncurses5-dev libsqlite3-dev libreadline-dev tk-dev libgdbm-dev libdb-dev libpcap-dev xz-utils libexpat1-dev liblzma-dev libffi-dev libc6-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># download https://www.python.org/ftp/python/3.9.10/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mkdir -p /usr/local/python3 #å»ºç«‹å®‰è£…ç›®å½•</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">##ç¼–è¯‘å®‰è£…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#åé¢åŠ ä¸Š --enable-optimizations ä¼šè‡ªåŠ¨å®‰è£…pip3åŠä¼˜åŒ–é…ç½®</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./configure --prefix=/usr/local/python3  --enable-optimizations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo make install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /usr/bin/python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /usr/bin/pip3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#æ·»åŠ python3çš„è½¯é“¾æ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ln -s /usr/local/python3/bin/python3.9 /usr/bin/python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#æ·»åŠ  pip3 çš„è½¯é“¾æ¥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ln -s /usr/local/python3/bin/pip3.9 /usr/bin/pip3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ£€æŸ¥ç‰ˆæœ¬</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 -V</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è¿è¡Œå®˜æ–¹ç¤ºä¾‹</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone --recursive https://github.com/amundsen-io/amundsen.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Neo4j Backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose -f docker-amundsen.yml up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Atlas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose -f docker-amundsen-atlas.yml up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># å¯¼å…¥æ ·æœ¬æ•°æ®åˆ°Neo4j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd databuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apt-get install python3-venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ --upgrade setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install --upgrade pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple/ -r requirements.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># maybe you need upgrade setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3.4 install --upgrade setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 setup.py install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 example/scripts/sample_data_loader.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€ç»ˆé€šè¿‡åœ¨dockerä¸­è¿è¡ŒæˆåŠŸï¼š</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it -v /home/anxin/amundsen-main:/data python:3.7.12-bullseye /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281552964.png" alt="image-20220222155316857" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="databuilder">Databuilder<a href="#databuilder" class="hash-link" aria-label="Databuilderçš„ç›´æ¥é“¾æ¥" title="Databuilderçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>å®¢æˆ·ç«¯é€šè¿‡Jobå¯åŠ¨ETLä»»åŠ¡ï¼ŒåŒ…æ‹¬taskå’Œpublisherã€‚</p><p>å…¶ä¸­taskæ§åˆ¶Extractorã€Transformerã€Loaderç»„ä»¶ï¼Œå®ç°Amundsençš„ETLæµç¨‹ã€‚</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281552586.png" alt="image-20220222105956488" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extractor"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/extractor" target="_blank" rel="noopener noreferrer" title="Extractor">Extractor</a><a href="#extractor" class="hash-link" aria-label="extractorçš„ç›´æ¥é“¾æ¥" title="extractorçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>An extractor extracts records from the source. This does not necessarily mean that it only supports <a href="https://blogs.sap.com/2013/12/09/to-push-or-pull-that-is-the-question/" target="_blank" rel="noopener noreferrer" title="pull pattern">pull pattern</a> in ETL. For example, extracting records from messaging bus makes it a push pattern in ETL.</p><p>å¯¼å‡ºå™¨ï¼Œä¸ä»…ä»…åŒ…å«æ‹‰å–æ¨¡å¼ï¼Œä¾‹å¦‚æ¶ˆæ¯æ€»çº¿ä¸­æ¨é€è¿‡æ¥çš„æ¶ˆæ¯ã€‚</p><p>å†…ç½®äº†å“ªäº›å¯¼å‡ºå™¨ï¼š</p><p>DBAPIExtractor æ•°æ®åº“å¯¼å‡º</p><p>Generic é€šç”¨å¯¼å‡º</p><p>HiveTableLastUpdated  å¯¼å‡ºæœ€è¿‘æ›´æ–°çš„Hive metastore</p><p>HiveTableMetadata å¯¼å‡ºHive metadata</p><p>Cassandra å¯¼å‡ºapache cassandraæ•°æ®åº“metastore</p><p>Glue å¯¼å‡º AWS Glue metastore</p><p>Delta-Lake-MetadataExtractor è¿è¡Œåœ¨sparkä¸Šé¢ï¼Œä½¿ç”¨Spark sqlå¯¼å‡ºdelta-lake å…ƒæ•°æ®</p><p>PostgresMetadataExtractor å¯¼å‡ºPostgresæˆ–Redshiftæ•°æ®åº“çš„è¡¨åˆ—å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬æ•°æ®åº“ã€æ¶æ„ã€è¡¨åã€è¡¨æè¿°ã€åˆ—åã€åˆ—æè¿°ã€‚</p><p>RestAPIExtractor  é€šè¿‡æ„é€ RESTAPIæŸ¥è¯¢å¯¼å‡ºæ•°æ® <a href="#rest-api-query">RestAPIQuery</a>ã€‚</p><p>ElasticsearchMetadataExtractor å¯¼å‡ºESç´¢å¼•çš„å…ƒæ•°æ®</p><p>å…¶ä»–ï¼šNeo4j/Altas/BigQuery/Snowflake/Databricks/Superset</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="transformer"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/transformer" target="_blank" rel="noopener noreferrer" title="Transformer">Transformer</a><a href="#transformer" class="hash-link" aria-label="transformerçš„ç›´æ¥é“¾æ¥" title="transformerçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>A transformer takes a record from either an extractor or from other transformers (via ChainedTransformer) to transform the record.</p><p>è½¬æ¢å™¨ï¼Œå¤„ç†ä»Extractoræˆ–å¦ä¸€ä¸ªTransformerä¸­è¿‡æ¥çš„æ¶ˆæ¯ã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="loader"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/loader" target="_blank" rel="noopener noreferrer" title="Loader">Loader</a><a href="#loader" class="hash-link" aria-label="loaderçš„ç›´æ¥é“¾æ¥" title="loaderçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>A loader takes a record from a transformer or from an extractor directly and loads it to a sink, or a staging area. As the loading operates at a record-level, it&#x27;s not capable of supporting atomicity.</p><p>åŠ è½½åˆ°Sinkã€æˆ–è€…ä¸€ä¸ªè¾“å‡ºåŒºåŸŸ*(staging area).</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="task"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/task" target="_blank" rel="noopener noreferrer" title="Task">Task</a><a href="#task" class="hash-link" aria-label="taskçš„ç›´æ¥é“¾æ¥" title="taskçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>A task orchestrates an extractor, a transformer, and a loader to perform a record-level operation.</p><p>Taskè°ƒåº¦ETLç»„ä»¶ ï¼Œæ‰§è¡Œè®°å½•çº§åˆ«æ“ä½œ</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="record"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/models" target="_blank" rel="noopener noreferrer" title="Record">Record</a><a href="#record" class="hash-link" aria-label="recordçš„ç›´æ¥é“¾æ¥" title="recordçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>A record is represented by one of <a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/models" target="_blank" rel="noopener noreferrer" title="models">models</a>.</p><p>ä»£è¡¨ä¸€æ¡æ¨¡å‹</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publisher"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/publisher" target="_blank" rel="noopener noreferrer" title="Publisher">Publisher</a><a href="#publisher" class="hash-link" aria-label="publisherçš„ç›´æ¥é“¾æ¥" title="publisherçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>A publisher is an optional component. Its common usage is to support atomicity in job level and/or to easily support bulk load into the sink.</p><p>publisheræ˜¯å¯é€‰ç»„ä»¶ï¼Œæ”¯æŒjobçº§åˆ«çš„è‡ªåŠ¨åŒ–æˆ–è€…ç®€å•æ”¯æŒæ‰¹é‡åŠ è½½åˆ°Sinkã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="job"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/job" target="_blank" rel="noopener noreferrer" title="Job">Job</a><a href="#job" class="hash-link" aria-label="jobçš„ç›´æ¥é“¾æ¥" title="jobçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>A job is the highest level component in Databuilder, and it orchestrates a task and, if any, a publisher.</p><p>Jobæ˜¯Databuilderä¸­å±‚çº§æœ€é«˜çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬taskæˆ–publisherã€‚</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="model">Model<a href="#model" class="hash-link" aria-label="Modelçš„ç›´æ¥é“¾æ¥" title="Modelçš„ç›´æ¥é“¾æ¥">â€‹</a></h4><p>Models are abstractions representing the domain.</p><p>Modelï¼ˆæ¨¡å‹ï¼‰æ˜¯é¢†åŸŸä»£è¡¨çš„æŠ½è±¡</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="neo4j">Neo4j<a href="#neo4j" class="hash-link" aria-label="Neo4jçš„ç›´æ¥é“¾æ¥" title="Neo4jçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><a href="https://baike.baidu.com/item/Neo4j" target="_blank" rel="noopener noreferrer">Neo4j</a>æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„,NOSQLå›¾å½¢æ•°æ®åº“ã€‚</p><p>åœ¨docker-composeä¸­å¯åŠ¨ï¼š</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#22863A">neo4j</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> neo4j</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3.5.26</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> neo4j_amundsen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> NEO4J_AUTH=neo4j/test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">ulimits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#22863A">nofile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># é™åˆ¶æ‰“å¼€çš„æ–‡ä»¶æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#22863A">soft</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">40000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#22863A">hard</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">40000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 7474</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#005CC5">7474</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 7687</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#005CC5">7687</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./example/docker/neo4j/conf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/neo4j/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./example/docker/neo4j/plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/neo4j/plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./example/backup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> neo4j_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> amundsennet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553402.png" alt="image-20220221141523439" class="img_ev3q"></p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553103.png" alt="image-20220221142216484" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="atlas">Atlas<a href="#atlas" class="hash-link" aria-label="Atlasçš„ç›´æ¥é“¾æ¥" title="Atlasçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://atlas.apache.org/" target="_blank" rel="noopener noreferrer">https://atlas.apache.org/</a></p><p><a href="https://github.com/apache/atlas" target="_blank" rel="noopener noreferrer">https://github.com/apache/atlas</a> â­1.2k</p><p>Atlasæ˜¯ä¸€ç»„å¯æ‰©å±•çš„æ ¸å¿ƒåŸºç¡€æ²»ç†æœåŠ¡ï¼Œä¸ºç»„ç»‡æä¾›å¼€æ”¾çš„å…ƒæ•°æ®ç®¡ç†å’Œæ²»ç†åŠŸèƒ½ï¼Œä»¥æ„å»ºå…¶æ•°æ®èµ„äº§çš„ç›®å½•ï¼Œå¯¹è¿™äº›èµ„äº§è¿›è¡Œåˆ†ç±»å’Œæ²»ç†ï¼Œå¹¶ä¸ºæ•°æ®ç§‘å­¦å®¶ã€åˆ†æå¸ˆå’Œæ•°æ®æ²»ç†å›¢é˜Ÿæä¾›å›´ç»•è¿™äº›æ•°æ®èµ„äº§çš„åä½œèƒ½åŠ›ã€‚</p><ul><li>èƒ½å¤ŸåŠ¨æ€åˆ›å»ºåˆ†ç±» - å¦‚ PIIã€EXPIRES_ONã€DATA_QUALITYã€SENSITIVE</li><li>é›†æˆå¤šé‡ Hadoop å’Œé Hadoop å…ƒæ•°æ®çš„é¢„å®šä¹‰ç±»å‹</li><li>è¡€ç»Ÿï¼šç›´è§‚çš„ UIï¼Œå¯åœ¨æ•°æ®é€šè¿‡å„ç§æµç¨‹æ—¶æŸ¥çœ‹æ•°æ®æ²¿è¢­</li><li>æœç´¢å‘ç°ï¼šå¯æŒ‰ç±»å‹ã€åˆ†ç±»ã€å±æ€§å€¼æˆ–è‡ªç”±æ–‡æœ¬æœç´¢å®ä½“ï¼Œå¹¶æ”¯æŒDSLæŸ¥è¯¢</li><li>å®‰å…¨ï¼šä¸Apache Rangeré›†æˆï¼Œæ”¯æŒæŒ‰åˆ†ç±»å¯¹æ•°æ®è®¿é—®è¿›è¡Œæˆæƒ/æ•°æ®å±è”½</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ranger">Ranger<a href="#ranger" class="hash-link" aria-label="Rangerçš„ç›´æ¥é“¾æ¥" title="Rangerçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://ranger.apache.org/quick_start_guide.html" target="_blank" rel="noopener noreferrer">https://ranger.apache.org/quick_start_guide.html</a></p><p><a href="https://github.com/apache/ranger" target="_blank" rel="noopener noreferrer">https://github.com/apache/ranger</a>  â­582</p><p>Apache Rangerâ„¢ is a framework to enable, monitor and manage comprehensive data security across the Hadoop platform.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="datax">DataX<a href="#datax" class="hash-link" aria-label="DataXçš„ç›´æ¥é“¾æ¥" title="DataXçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>DataXæ˜¯é˜¿é‡Œäº‘DataWorksæ•°æ®é›†æˆçš„å¼€æºç‰ˆæœ¬ã€‚ç¦»çº¿æ•°æ®åŒæ­¥å·¥å…·/å¹³å°ã€‚</p><blockquote><p>é“¾æ¥ï¼š</p><p>é˜¿é‡Œäº‘å¤§æ•°æ®å¼€å‘æ²»ç†å¹³å° <a href="https://www.aliyun.com/product/bigdata/ide" target="_blank" rel="noopener noreferrer">DataWorks</a></p><p><a href="https://github.com/alibaba/DataX/blob/master/introduction.md" target="_blank" rel="noopener noreferrer">DataX3.0ä»‹ç»</a></p></blockquote><p>æ¶æ„ï¼š Job &gt; åˆ‡åˆ†Task&gt; åˆ’åˆ†TaskGroup &gt; æ‰§è¡ŒTask (Read+Channel+Writer)</p><p>å¿«é€Ÿä½¿ç”¨ï¼š</p><p>ä¸‹è½½ï¼š<a href="http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz" target="_blank" rel="noopener noreferrer">http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz</a></p><blockquote><p>è¿è¡Œå‰ï¼š</p><ul><li><p>åˆ é™¤pluginç›®å½•ä¸‹ï¼ˆåŒ…å«readerï¼Œwriterç›®å½•ä¸‹ï¼‰æ‰€æœ‰ ._å¼€å¤´çš„æ–‡ä»¶</p></li><li><p>è¦åœ¨python3ç¯å¢ƒè¿è¡Œï¼Œéœ€è¦ç”¨datax-webé¡¹ç›®docä¸‹çš„pyæ–‡ä»¶æ‹·è´åˆ°å½“å‰binä¸‹</p></li></ul></blockquote><p>é…ç½®ï¼š</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># æŸ¥çœ‹å¯¹åº”æ¨¡æ¿</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ python datax.py -r streamreader -w streamwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ä¿å­˜æ¨¡æ¿å¹¶ä¿®æ”¹ï¼Œæ»åæ‰§è¡Œ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ python datax.py ./stream2stream.json </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/WeiYe-Jing/datax-web" target="_blank" rel="noopener noreferrer">DataX WEB UI</a></p><p>ä»»åŠ¡ç®¡ç†å’Œè°ƒåº¦ã€WEBæ„å»ºDataX Jsonã€WEBå®æ—¶æ—¥å¿—ã€è¿è¡Œå‚æ•°é…ç½®ç­‰</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553041.png" alt="img" class="img_ev3q"></p><p><a href="https://github.com/WeiYe-Jing/datax-web/blob/master/userGuid.md" target="_blank" rel="noopener noreferrer">DataX Webéƒ¨ç½²</a></p><p>datax_admin æ§åˆ¶å°ï¼š éœ€æŒ‡å®šæ•°æ®åº“åœ°å€ï¼ˆbin/sqlï¼‰ /é‚®ä»¶å‘é€è´¦æˆ·ã€æ—¥å¿—ã€jobçº¿ç¨‹æ± ç­‰</p><p>datax_executor æ‰§è¡Œå™¨ï¼ˆé€šè¿‡python_pathæŒ‡å®šdatax engineçš„è¿è¡Œç›®å½•ï¼‰</p><ul><li>datax.job.admin adminåœ°å€</li><li>executor.port æ‰§è¡Œå™¨ç«¯å£</li><li>jsonpath  datax jsonä¸´æ—¶æ–‡ä»¶ä¿å­˜è·¯å¾„</li><li>pypath dataxå¯åŠ¨è„šæœ¬ <code>xxx/datax/bin/datax.py</code></li></ul><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553665.png" alt="image-20220223155031469" class="img_ev3q"></p><p>å¯ä»¥åœ¨æ—¥å¿—ç®¡ç†ä¸­æŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œæƒ…å†µå’Œæ—¥å¿—è¾“å‡ºã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cdc">CDC<a href="#cdc" class="hash-link" aria-label="CDCçš„ç›´æ¥é“¾æ¥" title="CDCçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>Postgresqlé€šè¿‡é€»è¾‘å¤åˆ¶(&gt;10.0 logical replication)å®é™…å°±æ˜¯ä¸€ä¸ªCDCåº”ç”¨ï¼Œç­‰ä»·äºæ¶ˆè´¹é¢„å†™å¼æ—¥å¿— WALã€‚</p><p><a href="https://debezium.io/documentation/reference/1.8/tutorial.html" target="_blank" rel="noopener noreferrer">Debezium ç®€ä»‹</a></p><p>Debeziumï¼ˆ<a href="https://materialize.com/docs/guides/cdc-postgres/" target="_blank" rel="noopener noreferrer">DOC</a>ï¼‰ æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼å¹³å°ï¼Œå¯å°†æ‚¨ç°æœ‰çš„æ•°æ®åº“è½¬æ¢ä¸ºäº‹ä»¶æµï¼ˆCDCï¼‰æœåŠ¡ã€‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flink-cdc-connectors">Flink CDC Connectors<a href="#flink-cdc-connectors" class="hash-link" aria-label="Flink CDC Connectorsçš„ç›´æ¥é“¾æ¥" title="Flink CDC Connectorsçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://ververica.github.io/flink-cdc-connectors/master/content/about.html" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p><p><a href="https://github.com/ververica/flink-cdc-connectors" target="_blank" rel="noopener noreferrer">https://github.com/ververica/flink-cdc-connectors</a></p><p>æ˜¯ä¸€ä¸ªé›†æˆDebezium CDCçš„Flink Connectorç»„ä»¶ã€‚</p><p>ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#å‡†å¤‡flinkç¯å¢ƒï¼Œè¿™é‡Œä¸‹è½½1.13.5ç‰ˆæœ¬åˆ°node38èŠ‚ç‚¹ï¼Œæ‰§è¡Œ bin/start-cluster.shå¯åŠ¨standaloneé›†ç¾¤ï¼Œé€šè¿‡38:8081è®¿é—®flinkæ§åˆ¶å°UI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#ä¸‹è½½cdcé¡¹ç›®gitä»£ç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn spotless:apply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean install -DskipTests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#å®Œåï¼Œå¯¹åº”çš„cdc jaråŒ…åœ¨.m2ç›®å½• F:\Program Files\apache-maven-3.2.3\mavenRepository\.m2\repository\com\ververica</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#è¿™é‡Œç”¨åˆ° </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flink-connector-mysql-cdc-2.2-SNAPSHOT.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#æ‹·è´ç›¸å…³cdcçš„jaråŒ…åˆ° FLINK_HOME/lib/.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€ç»ˆclient libä¸‹çš„jaråŒ…å½¢æ€ï¼š</p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553644.png" alt="image-20220224172332791" class="img_ev3q"></p><ul><li>ä¿®æ”¹ï¼š flink-sql-connector-elasticsearch7_2.11-1.13.6.jar  --&gt; </li></ul><p>åœ¨sql-client CLIä¸­æ‰§è¡Œï¼š</p><p><a href="https://ververica.github.io/flink-cdc-connectors/master/content/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/mysql-postgres-tutorial-zh.html" target="_blank" rel="noopener noreferrer">ä¾‹å­æ¥æº</a></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic">-- åˆ›å»ºMySql Productå¯¹åº”è¡¨ï¼ŒåŒæ­¥æ•°æ®åº“è¡¨çš„æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> products </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mysql-cdc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;hostname&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;10.8.30.37&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;port&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;3306&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;password&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;123456&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;database-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mydb&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;table-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;products&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- åˆ›å»ºè®¢å•è¡¨æ˜ å°„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> orders </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_date </span><span class="token keyword" style="color:#CF222E">TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   customer_name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   price </span><span class="token keyword" style="color:#CF222E">DECIMAL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_status </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mysql-cdc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;hostname&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;10.8.30.37&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;port&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;3306&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;password&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;123456&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;database-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mydb&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;table-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;orders&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- åˆ›å»ºå¿«é€’è¡¨ï¼ˆPostgreSQLï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> shipments </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   shipment_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   origin STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   destination STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   is_arrived </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shipment_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;postgres-cdc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;hostname&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;10.8.30.39&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;port&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;5432&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;postgres&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;password&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;postgres&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;database-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;trest&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;schema-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;public&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;table-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;shipments&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;debezium.plugin.name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;wal2json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- ç›®æ ‡ESæ•°æ®è¡¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> enriched_orders </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_date </span><span class="token keyword" style="color:#CF222E">TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   customer_name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   price </span><span class="token keyword" style="color:#CF222E">DECIMAL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_status </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_description STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   shipment_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   origin STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   destination STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   is_arrived </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;elasticsearch-6&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;hosts&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;http://10.8.30.155:9200&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;index&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;enriched_orders&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;document-type&#x27;</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&#x27;_doc&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- å…³è”æŸ¥è¯¢å½¢æˆå®½è¡¨ï¼Œæ’å…¥åˆ°ESä¸­</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">INTO</span><span class="token plain"> enriched_orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">SELECT</span><span class="token plain"> o</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#D73A49">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shipment_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_arrived</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">FROM</span><span class="token plain"> orders </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">JOIN</span><span class="token plain"> products </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> p </span><span class="token keyword" style="color:#CF222E">ON</span><span class="token plain"> o</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">product_id</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">JOIN</span><span class="token plain"> shipments </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> s </span><span class="token keyword" style="color:#CF222E">ON</span><span class="token plain"> o</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_id</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mysqlå¯åŠ¨cdc">MySqlå¯åŠ¨CDC<a href="#mysqlå¯åŠ¨cdc" class="hash-link" aria-label="MySqlå¯åŠ¨CDCçš„ç›´æ¥é“¾æ¥" title="MySqlå¯åŠ¨CDCçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#/etc/mysql/mysql.conf.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[mysqld]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log-bin=mysql-bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-id=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binlog_format=ROW</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show variables like &#x27;log_%&#x27;; # æ˜¾ç¤ºONè¡¨ç¤ºæ‰“å¼€</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="postgreså¯åŠ¨cdc-å‚è€ƒ">Postgreså¯åŠ¨CDC <a href="https://debezium.io/documentation/reference/postgres-plugins.html" target="_blank" rel="noopener noreferrer">å‚è€ƒ</a><a href="#postgreså¯åŠ¨cdc-å‚è€ƒ" class="hash-link" aria-label="postgreså¯åŠ¨cdc-å‚è€ƒçš„ç›´æ¥é“¾æ¥" title="postgreså¯åŠ¨cdc-å‚è€ƒçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>9.6éœ€è¦ä½¿ç”¨æ’ä»¶ <a href="https://github.com/eulerto/wal2json/blob/master/README.md" target="_blank" rel="noopener noreferrer">wal2json</a>ã€‚10+ç‰ˆæœ¬ä¸éœ€è¦ä½¿ç”¨æ’ä»¶ã€‚</p><blockquote><p>decoderbufs
éœ€è¦å®‰è£…ä¸€å †æ’ä»¶,åœ¨centosä¸Šéå¸¸éš¾äºå®‰è£…,å®˜æ–¹ç»™å‡ºçš„ä¾‹å­ä¹Ÿæ˜¯åŸºäºdebeinæ“ä½œç³»ç»Ÿ</p><p>wal2json
debeziumå¯¹wal2jsonçš„æ”¯æŒä¸å¥½,ä»–è‡ªå·±å®˜ç½‘è¯´çš„</p><p>pgoutput
postgres-10 çº³å…¥äº†å†…æ ¸ ä»¥ä¸‹ä¸ºpgoutputè§£æå‡ºæ¥çš„é€»è¾‘æ•°æ®</p></blockquote><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#å®‰è£…wal2json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/eulerto/wal2json -b master --single-branch \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; cd wal2json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; git checkout d2b7fef021c46e0d429f2c1768de361069e58696 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; make &amp;&amp; make install \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; cd .. \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; rm -rf wal2json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#postgres.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># MODULES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shared_preload_libraries = &#x27;wal2json&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># REPLICATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wal_level = logical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_wal_senders = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_replication_slots = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ•°æ®åº“ç”¨æˆ·æƒé™,è‡³å°‘å…·æœ‰REPLICATIONå’ŒLOGINæƒé™ (postgresç”¨æˆ·é»˜è®¤æœ‰æƒé™) ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE USER user WITH PASSWORD &#x27;pwd&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER ROLE user replication;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grant CONNECT ON DATABASE test to user;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT SELECT ON ALL TABLES IN SCHEMA public TO user;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æ•°æ®åº“è®¿é—®æƒé™ (pg_hba.conf)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local   replication     postgres                        trust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host    replication     postgres        0.0.0.0/0       md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host    replication     FashionAdmin    0.0.0.0/0       md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host    replication     FashionAdmin    ::1/128         md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># é‡å¯pgæœåŠ¡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service postgresql restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># æµ‹è¯•wal2jsonæ˜¯å¦å¯ç”¨</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pg_recvlogical -d trest --slot test_slot --create-slot -P wal2json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pg_recvlogical -d trest --slot test_slot --start -o pretty-print=1 -f -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># åˆ é™¤æ§½</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pg_recvlogical -d trest --slot test_slot --drop-slot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æŠ¥é”™è®°å½•">æŠ¥é”™è®°å½•<a href="#æŠ¥é”™è®°å½•" class="hash-link" aria-label="æŠ¥é”™è®°å½•çš„ç›´æ¥é“¾æ¥" title="æŠ¥é”™è®°å½•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><ol><li><p>java.io.StreamCorruptedException: unexpected block data</p><p>ç±»åŠ è½½é¡ºåºé—®é¢˜ï¼Œflinké»˜è®¤æ˜¯child-firstï¼Œåœ¨flinkçš„flink-conf.yamlæ–‡ä»¶ä¸­æ·»åŠ <code>classloader.resolve-order: parent-first</code> æ”¹æˆparent-firstï¼Œé‡å¯é›†ç¾¤å³å¯ã€‚</p></li></ol><ol start="2"><li>s</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="zeppelin-flinkè§£é‡Šå™¨">Zeppelin Flinkè§£é‡Šå™¨<a href="#zeppelin-flinkè§£é‡Šå™¨" class="hash-link" aria-label="Zeppelin Flinkè§£é‡Šå™¨çš„ç›´æ¥é“¾æ¥" title="Zeppelin Flinkè§£é‡Šå™¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>æ•°æ®ç§‘å­¦ç¬”è®°æœ¬ã€‚</p><p>å¼€å‘äººå‘˜å°†<strong>Jupyter</strong>æè¿°ä¸ºâ€œ<em>å¤šè¯­è¨€äº¤äº’å¼è®¡ç®—ç¯å¢ƒ</em>â€ã€‚Jupyter Notebook æ˜¯ä¸€ä¸ªåŸºäº Web çš„äº¤äº’å¼è®¡ç®—å¹³å°ï¼Œç»“åˆäº†å®æ—¶ä»£ç ã€æ–¹ç¨‹å¼ã€å™è¿°æ€§æ–‡æœ¬ã€å¯è§†åŒ–ã€äº¤äº’å¼ä»ªè¡¨æ¿å’Œå…¶ä»–åª’ä½“ã€‚ <code>æµè¡Œ</code>  <code>Python</code></p><p>å¦ä¸€æ–¹é¢ï¼Œ<strong>Apache Zeppelin</strong>è¢«è¯¦ç»†æè¿°ä¸ºâ€œ<em>æ”¯æŒäº¤äº’å¼æ•°æ®åˆ†æçš„åŸºäº Web çš„ç¬”è®°æœ¬</em>â€ã€‚æ”¯æŒäº¤äº’å¼æ•°æ®åˆ†æçš„åŸºäº Web çš„ç¬”è®°æœ¬ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ SQLã€Scala ç­‰å·¥å…·åˆ¶ä½œç²¾ç¾çš„æ•°æ®é©±åŠ¨ã€äº¤äº’å¼å’Œåä½œæ–‡æ¡£ã€‚ <code>å¤§æ•°æ®</code> <code>Python Scala</code> <code>SQL</code></p><p>Jupyter å’Œ Apache Zeppelin ä¸»è¦å¯ä»¥å½’ç±»ä¸º<strong>â€œæ•°æ®ç§‘å­¦ç¬”è®°æœ¬â€</strong>å·¥å…·ã€‚</p><p>ä¸jupyter<a href="https://stackshare.io/stackups/jupyter-vs-zeppelin" target="_blank" rel="noopener noreferrer">è¯¦ç»†æ¯”è¾ƒ</a>ã€‚</p><p><a href="https://zeppelin.apache.org/docs/latest/interpreter/flink.html" target="_blank" rel="noopener noreferrer">å®˜æ–¹</a>æ–‡æ¡£ç¿»è¯‘ï¼š</p><p>åœ¨ Zeppelin 0.9 ä¸­ï¼Œæˆ‘ä»¬é‡æ„äº† Zeppelin ä¸­çš„ Flink è§£é‡Šå™¨ä»¥æ”¯æŒæœ€æ–°ç‰ˆæœ¬çš„ Flinkã€‚<strong>ä»…æ”¯æŒ Flink 1.10+ï¼Œæ—§ç‰ˆæœ¬çš„ flink å°†æ— æ³•ä½¿ç”¨ã€‚</strong> Zeppelin æ”¯æŒ Apache Flinkï¼ŒFlink è§£é‡Šå™¨ç»„ç”±ä¸‹é¢åˆ—å‡ºçš„äº”ä¸ª<strong>è§£é‡Šå™¨</strong>(interpreter)ç»„æˆã€‚</p><table><thead><tr><th align="center">å§“å</th><th align="center">ç­çº§</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">%flink</td><td align="center">Flink è§£é‡Šå™¨</td><td align="center">åˆ›å»º ExecutionEnvironment/StreamExecutionEnvironment/BatchTableEnvironment/StreamTableEnvironment å¹¶æä¾› <strong>Scala</strong> ç¯å¢ƒ</td></tr><tr><td align="center">%flink.pyflink</td><td align="center">PyFlink è§£é‡Šå™¨</td><td align="center">æä¾›pythonç¯å¢ƒ</td></tr><tr><td align="center">%flink.ipyflink</td><td align="center">IPyFlinkè§£é‡Šå™¨</td><td align="center">æä¾› ipython ç¯å¢ƒ</td></tr><tr><td align="center">%flink.ssql</td><td align="center">FlinkStreamSqlInterpreter</td><td align="center">æä¾›æµå¼sqlç¯å¢ƒ</td></tr><tr><td align="center">%flink.bsql</td><td align="center">FlinkBatchSqlInterpreter</td><td align="center">æä¾›æ‰¹å¤„ç†sqlç¯å¢ƒ</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç‰¹ç‚¹">ç‰¹ç‚¹<a href="#ç‰¹ç‚¹" class="hash-link" aria-label="ç‰¹ç‚¹çš„ç›´æ¥é“¾æ¥" title="ç‰¹ç‚¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><table><thead><tr><th align="center">ç‰¹å¾</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">æ”¯æŒå¤šä¸ªç‰ˆæœ¬çš„ Flink</td><td align="center">æ‚¨å¯ä»¥åœ¨ä¸€ä¸ª Zeppelin å®ä¾‹ä¸­è¿è¡Œä¸åŒç‰ˆæœ¬çš„ Flink</td></tr><tr><td align="center">æ”¯æŒå¤šä¸ªç‰ˆæœ¬çš„Scala</td><td align="center">æ‚¨å¯ä»¥åœ¨ Zeppelin å®ä¾‹ä¸Šè¿è¡Œä¸åŒçš„ Scala ç‰ˆæœ¬çš„ Flink</td></tr><tr><td align="center">æ”¯æŒå¤šç§è¯­è¨€</td><td align="center">æ”¯æŒScalaã€Pythonã€SQLï¼Œæ­¤å¤–ä½ è¿˜å¯ä»¥è·¨è¯­è¨€åä½œï¼Œä¾‹å¦‚ä½ å¯ä»¥ç¼–å†™Scala UDFå¹¶åœ¨PyFlinkä¸­ä½¿ç”¨å®ƒ</td></tr><tr><td align="center">æ”¯æŒå¤šç§æ‰§è¡Œæ¨¡å¼</td><td align="center">Local <!-- -->|<!-- --> Remote <!-- -->|<!-- --> Yarn <!-- -->|<!-- -->  Yarn Application</td></tr><tr><td align="center">æ”¯æŒHive</td><td align="center">æ”¯æŒ Hive ç›®å½•</td></tr><tr><td align="center">äº¤äº’å¼å¼€å‘</td><td align="center">äº¤äº’å¼å¼€å‘ç”¨æˆ·ä½“éªŒæé«˜æ‚¨çš„ç”Ÿäº§åŠ›</td></tr><tr><td align="center">Flink SQL çš„å¢å¼º</td><td align="center"><em> ä¸€ä¸ªç¬”è®°æœ¬åŒæ—¶æ”¯æŒæµå¼å’Œæ‰¹å¤„ç†sql<br> </em> æ”¯æŒsqlæ³¨é‡Šï¼ˆå•è¡Œæ³¨é‡Š/å¤šè¡Œæ³¨é‡Šï¼‰<br> <em> æ”¯æŒé«˜çº§é…ç½®ï¼ˆjobNameï¼Œå¹¶è¡Œåº¦ï¼‰<br> </em> æ”¯æŒå¤šæ¡insertè¯­å¥</td></tr><tr><td align="center">å¤šç§Ÿæˆ·</td><td align="center">å¤šä¸ªç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ª Zeppelin å®ä¾‹ä¸­å·¥ä½œè€Œä¸ä¼šç›¸äº’å½±å“ã€‚</td></tr><tr><td align="center">ä¼‘æ¯ API æ”¯æŒ</td><td align="center">ä½ ä¸ä»…å¯ä»¥é€šè¿‡ Zeppelin notebook UI æäº¤ Flink ä½œä¸šï¼Œè¿˜å¯ä»¥é€šè¿‡å®ƒçš„ rest api æ¥æäº¤ï¼ˆä½ å¯ä»¥ä½¿ç”¨ Zeppelin ä½œä¸º Flink ä½œä¸šæœåŠ¡å™¨ï¼‰ã€‚</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¿«é€Ÿå¯åŠ¨">å¿«é€Ÿå¯åŠ¨<a href="#å¿«é€Ÿå¯åŠ¨" class="hash-link" aria-label="å¿«é€Ÿå¯åŠ¨çš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿå¯åŠ¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>ï¼ˆdockersï¼Œ æ˜ å°„æœ¬åœ°flinkäºŒè¿›åˆ¶ç¨‹åºåˆ°å®¹å™¨ä¸­, éªŒè¯æœ¬åœ°æ¨¡å¼ï¼‰ï¼ˆ8081ç«¯å£ï¼šflink UIï¼‰</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">docker</span><span class="token plain"> run -u </span><span class="token variable" style="color:#E36209">$(</span><span class="token variable function" style="color:#8250DF">id</span><span class="token variable" style="color:#E36209"> -u</span><span class="token variable" style="color:#E36209">)</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">8080</span><span class="token plain">:8080 -p </span><span class="token number" style="color:#005CC5">8081</span><span class="token plain">:8081 --rm -v /mnt/disk1/flink-1.12.2:/opt/flink -e </span><span class="token assign-left variable" style="color:#E36209">FLINK_HOME</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/opt/flink  --name zeppelin apache/zeppelin:0.10.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ¶æ„">æ¶æ„<a href="#æ¶æ„" class="hash-link" aria-label="æ¶æ„çš„ç›´æ¥é“¾æ¥" title="æ¶æ„çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553553.png" alt="img" class="img_ev3q"></p><p>ä¸Šå›¾æ˜¯ Flink on Zeppelin çš„æ¶æ„ã€‚å·¦ä¾§çš„ Flink è§£é‡Šå™¨å®é™…ä¸Šæ˜¯ä¸€ä¸ª Flink å®¢æˆ·ç«¯ï¼Œè´Ÿè´£ç¼–è¯‘å’Œç®¡ç† Flink ä½œä¸šç”Ÿå‘½å‘¨æœŸï¼Œä¾‹å¦‚æäº¤ã€å–æ¶ˆä½œä¸šã€ç›‘æ§ä½œä¸šè¿›åº¦ç­‰ã€‚å³ä¾§çš„ Flink é›†ç¾¤æ˜¯æ‰§è¡Œ Flink ä½œä¸šçš„åœ°æ–¹ã€‚å®ƒå¯ä»¥æ˜¯ MiniClusterï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰ã€Standalone é›†ç¾¤ï¼ˆè¿œç¨‹æ¨¡å¼ï¼‰ã€Yarn ä¼šè¯é›†ç¾¤ï¼ˆyarn æ¨¡å¼ï¼‰æˆ– Yarn åº”ç”¨ä¼šè¯é›†ç¾¤ï¼ˆyarn-application æ¨¡å¼ï¼‰</p><p>Flink è§£é‡Šå™¨ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„ç»„ä»¶ï¼šScala shell &amp; Python shell</p><ul><li>Scala shell æ˜¯ Flink è§£é‡Šå™¨çš„å…¥å£ç‚¹ï¼Œå®ƒä¼šåˆ›å»º Flink ç¨‹åºçš„æ‰€æœ‰å…¥å£ç‚¹ï¼Œä¾‹å¦‚ ExecutionEnvironmentï¼ŒStreamExecutionEnvironment å’Œ TableEnvironmentã€‚Scala shell è´Ÿè´£ç¼–è¯‘å’Œè¿è¡Œ Scala ä»£ç å’Œ sqlã€‚</li><li>Python shell æ˜¯ PyFlink çš„å…¥å£ï¼Œå®ƒè´Ÿè´£ç¼–è¯‘å’Œè¿è¡Œ Python ä»£ç ã€‚</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="é…ç½®">é…ç½®<a href="#é…ç½®" class="hash-link" aria-label="é…ç½®çš„ç›´æ¥é“¾æ¥" title="é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>è¿æ¥åˆ°Flinké›†ç¾¤ï¼š</p><table><thead><tr><th align="center">è´¢äº§</th><th align="center">é»˜è®¤</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center"><code>FLINK_HOME</code></td><td align="center"></td><td align="center">Flink å®‰è£…ä½ç½®ã€‚å¿…é¡»æŒ‡å®šï¼Œå¦åˆ™ä¸èƒ½åœ¨ Zeppelin ä¸­ä½¿ç”¨ Flink</td></tr><tr><td align="center"><code>HADOOP_CONF_DIR</code></td><td align="center"></td><td align="center">hadoop confçš„ä½ç½®ï¼Œå¦‚æœåœ¨yarnæ¨¡å¼ä¸‹è¿è¡Œå¿…é¡»è®¾ç½®</td></tr><tr><td align="center"><code>HIVE_CONF_DIR</code></td><td align="center"></td><td align="center">hive conf çš„ä½ç½®ï¼Œå¦‚æœè¦è¿æ¥åˆ° hive å…ƒå­˜å‚¨ï¼Œå¿…é¡»è®¾ç½®æ­¤é¡¹</td></tr><tr><td align="center">flink.execution.mode</td><td align="center">local</td><td align="center">Execution mode of Flink, e.g. local <!-- -->|<!-- --> remote <!-- -->|<!-- -->yarn <!-- -->|<!-- -->yarn-application</td></tr><tr><td align="center">flink.execution.remote.host</td><td align="center"></td><td align="center">è¿è¡Œ JobManager çš„ä¸»æœºåã€‚ä»…ç”¨äºè¿œç¨‹æ¨¡å¼</td></tr><tr><td align="center">flink.execution.remote.port</td><td align="center"></td><td align="center">è¿è¡Œ JobManager çš„ç«¯å£ã€‚ä»…ç”¨äºè¿œç¨‹æ¨¡å¼</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ç¬¬ä¸‰æ–¹ä¾èµ–">ç¬¬ä¸‰æ–¹ä¾èµ–<a href="#ç¬¬ä¸‰æ–¹ä¾èµ–" class="hash-link" aria-label="ç¬¬ä¸‰æ–¹ä¾èµ–çš„ç›´æ¥é“¾æ¥" title="ç¬¬ä¸‰æ–¹ä¾èµ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>é€šè¿‡<a href="https://zeppelin.apache.org/docs/latest/usage/interpreter/overview.html#inline-generic-configuration" target="_blank" rel="noopener noreferrer">å†…è”é…ç½®</a>å®ç°å…·ä½“noteä¸‹çš„ä¾èµ–åŒ…ï¼š</p><ol><li><p>flink.execution.packagesã€‚ç±»ä¼¼pomä¸­æ·»åŠ ä¾èµ–</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%flink.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flink.execution.packages  org.apache.flink:flink-connector-kafka_2.11:1.10.0,org.apache.flink:flink-connector-kafka-base_2.11:1.10.0,org.apache.flink:flink-json:1.10.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><ol start="2"><li><p>flink.execution.jars. é…ç½®å¤–éƒ¨ä¾èµ–çš„jaråŒ…æ–‡ä»¶è·¯å¾„</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%flink.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flink.execution.jars /usr/lib/flink-kafka/target/flink-kafka-1.0-SNAPSHOT.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flink-udf">Flink UDF<a href="#flink-udf" class="hash-link" aria-label="Flink UDFçš„ç›´æ¥é“¾æ¥" title="Flink UDFçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>åœ¨ Zeppelin ä¸­æœ‰ 4 ç§æ–¹æ³•å¯ä»¥å®šä¹‰ UDFã€‚</p><ul><li><p>ç¼–å†™ Scala UDF</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%flink</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ScalaUpper extends ScalarFunction {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def eval(str: String) = str.toUpperCase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">btenv.registerFunction(&quot;scala_upper&quot;, new ScalaUpper())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li><p>ç¼–å†™ PyFlink UDF</p></li><li><p>é€šè¿‡ SQL åˆ›å»º UDF</p><p>é€šè¿‡IDEç¼–å†™å¤æ‚çš„UDFåº“ï¼Œç„¶åé€šè¿‡SQLè¯­å¥æ³¨å†Œåˆ°ç¯å¢ƒã€‚ä¸€èˆ¬éœ€é…åˆé€šè¿‡flink.udf.jarsæ–¹å¼å¼•å…¥åº“ã€‚</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#D73A49">%</span><span class="token plain">flink</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ssql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">FUNCTION</span><span class="token plain"> myupper </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;org.apache.zeppelin.flink.udf.JavaUpper&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>é€šè¿‡ flink.udf.jars é…ç½® udf jar</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hive">Hive<a href="#hive" class="hash-link" aria-label="Hiveçš„ç›´æ¥é“¾æ¥" title="Hiveçš„ç›´æ¥é“¾æ¥">â€‹</a></h3><p>é…ç½®ï¼š</p><p>zeppelin.flink.enableHive=true</p><p>HIVE_CONF_DIR</p><p>å¤åˆ¶ï¼š</p><ul><li>flink-connector-hive_2.11â€“*.jar</li><li>flink-hadoop-compatibility_2.11â€“*.jar</li><li>hive-exec-2.x.jar</li></ul><p>æœ¬åœ°å±æ€§ï¼šï¼ˆè§£é‡Šå™¨ä¸Šé¢çš„å‚æ•°ï¼‰</p><table><thead><tr><th align="center">Property</th><th align="center">Default</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">type</td><td align="center"></td><td align="center">Used in %flink.ssql to æŒ‡å®šæµå¼æ•°æ®çš„æ˜¾ç¤ºç±»å‹ (single, update, append)</td></tr><tr><td align="center">refreshInterval</td><td align="center">3000</td><td align="center">Used in <code>%flink.ssql</code> æŒ‡å®šæµå¼æ•°æ®åˆ·æ–°å‘¨æœŸ.</td></tr><tr><td align="center">template</td><td align="center">{0}</td><td align="center">Used in <code>%flink.ssql</code> to specify html template for <code>single</code> type of streaming data visualization, And you can use <code>{i}</code> as placeholder for the {i}th column of the result.</td></tr><tr><td align="center">parallelism</td><td align="center"></td><td align="center">Used in %flink.ssql &amp; %flink.bsql to specify the flink sql job parallelism</td></tr><tr><td align="center">maxParallelism</td><td align="center"></td><td align="center">Used in %flink.ssql &amp; %flink.bsql to specify the flink sql job max parallelism in case you want to change parallelism later. For more details, refer this <a href="https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/parallel.html#setting-the-maximum-parallelism" target="_blank" rel="noopener noreferrer">link</a></td></tr><tr><td align="center">savepointDir</td><td align="center"></td><td align="center">If you specify it, then when you cancel your flink job in Zeppelin, it would also do savepoint and store state in this directory. And when you resume your job, it would resume from this savepoint.</td></tr><tr><td align="center">execution.savepoint.path</td><td align="center"></td><td align="center">When you resume your job, it would resume from this savepoint path.</td></tr><tr><td align="center">resumeFromSavepoint</td><td align="center"></td><td align="center">Resume flink job from savepoint if you specify savepointDir.</td></tr><tr><td align="center">resumeFromLatestCheckpoint</td><td align="center"></td><td align="center">Resume flink job from latest checkpoint if you enable checkpoint.</td></tr><tr><td align="center">runAsOne</td><td align="center">false</td><td align="center">All the insert into sql will run in a single flink job if this is true.ï¼ˆè®©å¤šæ¡SQL insertè¯­å¥åœ¨åŒä¸€ä¸ªjobä¸­è¿è¡Œï¼‰</td></tr></tbody></table><p>ä»¥ä¸‹ä¿¡æ¯æ‘˜æŠ„è‡ª Oracle Big Data Blog</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="æ•°æ®æ¹–å®‰å…¨"><a href="https://blogs.oracle.com/bigdata/post/6-ways-to-improve-data-lake-security" target="_blank" rel="noopener noreferrer">æ•°æ®æ¹–å®‰å…¨</a><a href="#æ•°æ®æ¹–å®‰å…¨" class="hash-link" aria-label="æ•°æ®æ¹–å®‰å…¨çš„ç›´æ¥é“¾æ¥" title="æ•°æ®æ¹–å®‰å…¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ol><li><p>å»ºç«‹æ²»ç†ï¼šä¸ºæ‰€æœ‰çš„æ•°æ®æ„å»ºæ•°æ®æ¹–ã€‚ä½œä¸ºåŸå§‹å’Œéç»“æ„åŒ–æ•°æ®çš„å­˜å‚¨åº“ï¼Œå®ƒå¯ä»¥ä»ä»»ä½•æ¥æºæå–å‡ ä¹ä»»ä½•ä¸œè¥¿ã€‚è¦äº†è§£å¦‚ä½•ç®¡ç†ã€å¤„ç†å’Œä½¿ç”¨è¿™äº›æ•°æ®ï¼Œé¿å…å½¢æˆæ•°æ®æ²¼æ³½ã€‚é€šè¿‡æ²»ç†ï¼Œå¯ä»¥è¯†åˆ«æ‰€æœ‰æƒã€æ•æ„Ÿæ•°æ®çš„å®‰å…¨è§„åˆ™ã€æ•°æ®å†å²ã€æ•°æ®è¡€ç¼˜</p></li><li><p>è®¿é—®ï¼šå»ºç«‹ä¸åŒçº§åˆ«çš„ç”¨æˆ·è®¿é—®æƒé™</p></li><li><p>ä½¿ç”¨æœºå™¨å­¦ä¹ ï¼š ä¸€äº›æ•°æ®æ¹–å¹³å°å¸¦æœ‰å†…ç½®çš„æœºå™¨å­¦ä¹  (ML) åŠŸèƒ½ã€‚æœºå™¨å­¦ä¹ çš„ä½¿ç”¨å¯ä»¥é€šè¿‡åŠ é€ŸåŸå§‹æ•°æ®å¤„ç†å’Œåˆ†ç±»æ¥æ˜¾ç€é™ä½å®‰å…¨é£é™©</p></li><li><p>åˆ†åŒºå’Œå±‚æ¬¡ç»“æ„ï¼šå½“æ•°æ®è¢«æ‘„å–åˆ°æ•°æ®æ¹–ä¸­æ—¶ï¼Œå°†å…¶å­˜å‚¨åœ¨é€‚å½“çš„åˆ†åŒºä¸­å¾ˆé‡è¦ã€‚åœ¨ã€Šæ•°æ®æ¹–æœ€ä½³å®è·µã€‹ä¸­åŒ…æ‹¬åŸå§‹åŒºã€ç”Ÿäº§åŒºã€å·¥ä½œåŒºå’Œæ•æ„ŸåŒºã€‚è¿™é‡Œä»ä¸åŒç»´åº¦åˆ’åˆ†ï¼šæ—¶é—´ã€åŸå§‹ï¼ˆåŸå§‹ï¼ŒåŒ…å«å¯¹æ•æ„Ÿçš„åŠ å¯†åï¼‰ã€å—ä¿¡ä»»ï¼ˆä¾¿äºç”¨æˆ·-ç§‘å­¦å®¶ã€åˆ†æå¸ˆç­‰è½»æ¾è®¿é—®ï¼‰ã€ç²¾ç‚¼ï¼ˆæœ€ç»ˆè¾“å‡ºï¼‰</p></li><li><p>æ•°æ®ç”Ÿå‘½å‘¨æœŸï¼šæ·˜æ±°é™ˆæ—§æ•°æ®ï¼Œç”šè‡³é€šè¿‡MLå®ç°è‡ªåŠ¨å®ç°æ•°æ®çš„å†·çƒ­åˆ‡æ¢ï¼Œæœ€å¤§åŒ–èµ„æºåˆ©ç”¨ç‡</p></li><li><p>æ•°æ®åŠ å¯†ï¼šåŠ å¯†å¯¹æ•°æ®å®‰å…¨è‡³å…³é‡è¦ï¼Œå°¤å…¶æ•æ„Ÿæ•°æ®</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="qubole">Qubole<a href="#qubole" class="hash-link" aria-label="Quboleçš„ç›´æ¥é“¾æ¥" title="Quboleçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>ç”¨äºåˆ†æï¼Œäººå·¥æ™ºèƒ½ï¼Œæœºå™¨å­¦ä¹ çš„äº‘åŸç”Ÿå¹³å°ã€‚</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553230.png" alt="img" class="img_ev3q"></p><p>é›†æˆçš„ç»„ä»¶ï¼šSpark/Presto/Hive/Quantum/Airflow(å·¥ä½œæµETL)</p><p>ä»»ä½•æ•°æ®æ¹–è®¾è®¡éƒ½åº”åŒ…å«å…ƒæ•°æ®å­˜å‚¨ç­–ç•¥ï¼Œä»¥ä½¿ä¸šåŠ¡ç”¨æˆ·èƒ½å¤Ÿæœç´¢ã€å®šä½å’Œäº†è§£æ¹–ä¸­å¯ç”¨çš„æ•°æ®é›†ã€‚</p><ul><li><p>å¯ä»¥å¼ºåˆ¶åˆ›å»ºå…ƒæ•°æ®</p></li><li><p>è‡ªåŠ¨åˆ›å»ºå…ƒæ•°æ®</p></li><li><p>å…è®¸æœç´¢å…ƒæ•°æ®çš„æ•°æ®ç›®å½•</p></li><li><p>è®¿é—®å’ŒæŒ–æ˜ï¼ˆAccess and Miningï¼‰:è¯»å–æ¨¡å¼</p><ul><li>Schema on Write -&gt; Schema on Read</li></ul></li><li><p>æ•°æ®å¤„ç†</p><ul><li><p>ç»„åˆè¿æ¥ä¸åŒçš„æ•°æ®é›†</p></li><li><p>Denormalization åèŒƒå¼åŒ–</p><blockquote><p>é¢˜å¤–ï¼šä¾‹å¦‚å°†ç”¨æˆ·å’Œç”¨æˆ·åœ°å€è¡¨join&#x27;å­˜å‚¨å°±å±äºåèŒƒå¼åŒ–è®¾è®¡ï¼›èŒƒå¼åŒ–è™½ç„¶èŠ‚çœå­˜å‚¨ç©ºé—´ã€ç®€åŒ–æ›´æ–°ï¼Œä½†åèŒƒå¼åŒ–æ–¹ä¾¿æŸ¥è¯¢ã€‚ æå‡æ•°æ®åº“æ€§èƒ½çš„æ‰‹æ®µå°±å¯ä»¥åŒ…æ‹¬ï¼šç´¢å¼•ã€ç‰©åŒ–è§†å›¾ã€ç¼“å­˜ã€åèŒƒå¼åŒ–</p></blockquote></li><li><p>Cleansing, deduplication, householdingã€‚æ¸…æ´—ã€å»é‡ã€å®¶è®¡</p></li><li><p>æ´¾ç”Ÿè®¡ç®—æ•°æ®å­—æ®µ</p></li></ul></li></ul><p><strong>æ•°æ®æ¹–å¹³å°åº”æä¾›ï¼š</strong></p><ul><li>å¤šç§æ•°æ®å¤„ç†å¼•æ“é€‰é¡¹ï¼Œä¾‹å¦‚ Sparkã€Hadoop/Hiveã€Presto ç­‰ã€‚è¿™å¯¹äºæ”¯æŒå¹¿æ³›çš„ç”¨ä¾‹è‡³å…³é‡è¦ã€‚</li><li>ä¸€ä¸ªåŸºäºå¼€æ”¾æ ‡å‡†çš„ Metastoreï¼Œä¾‹å¦‚ Hiveï¼Œç„¶åå¯ä»¥ä» Hiveã€Presto å’Œ Spark SQL ä¸­ä½¿ç”¨</li><li>ä¸ AWS Glue çš„ç›®å½•é›†æˆã€‚</li><li>æ”¯æŒå¯ç”¨äºä»å…ƒæ•°æ®ä¸­è·å–æœ‰ç”¨ä¿¡æ¯çš„ AIRï¼ˆè­¦æŠ¥ã€è§è§£å’Œå»ºè®®ï¼‰</li><li>æ”¯æŒ Kafka Schema æ³¨å†Œè¡¨ï¼ˆç”¨äºæµæ•°æ®é›†ï¼‰ã€‚</li><li>æ•°æ®ä»“åº“è§£å†³æ–¹æ¡ˆçš„è¿æ¥å™¨ï¼Œä¾‹å¦‚ Snowflakeã€Redshiftã€BigQueryã€Azure SQL æ•°æ®åº“ç­‰ã€‚</li><li>MySQLã€Oracleã€MongoDBã€Verticaã€SQL Server ç­‰æµè¡Œå•†ä¸šæ•°æ®åº“çš„è¿æ¥å™¨ã€‚</li><li>æ— æœåŠ¡å™¨è®¡ç®—é€‰é¡¹ï¼ˆä¾‹å¦‚ Prestoï¼‰å¯ä»¥ç»æµé«˜æ•ˆåœ°æ»¡è¶³äº¤äº’å¼æŸ¥è¯¢è¦æ±‚ã€‚</li><li>åŸºäºæµè§ˆå™¨çš„ç»Ÿä¸€ UI ä¾›åˆ†æå¸ˆè¿è¡ŒæŸ¥è¯¢ã€‚</li><li>ç”¨äºä» BI å·¥å…·ï¼ˆå¦‚ Tableauã€Lookerã€Click Viewã€SuperSetã€Redash ç­‰ï¼‰è¿›è¡ŒæŸ¥è¯¢çš„ JDBC/ODBC é©±åŠ¨ç¨‹åºã€‚</li><li>é€‚ç”¨äºæ•°æ®ç§‘å­¦å®¶å’Œåˆ†æå¸ˆçš„ Jupyter/Zeppelin notebookã€‚</li><li>é€‚ç”¨äº Python å’Œ R çš„åŸºäº UI çš„æ•°æ®ç§‘å­¦åŒ…ç®¡ç†ã€‚</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="airflow">AirFlow<a href="#airflow" class="hash-link" aria-label="AirFlowçš„ç›´æ¥é“¾æ¥" title="AirFlowçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p>å·¥ä½œæµç®¡ç†å¹³å°ï¼ˆPythonï¼‰</p><p><a href="https://airflow.apache.org/" target="_blank" rel="noopener noreferrer">å®˜ç½‘</a> ã€<a href="https://www.modb.pro/db/106690" target="_blank" rel="noopener noreferrer">å…¥é—¨æ¦‚å¿µ</a></p><p>å®æ“Shell (docker-compose quick-start)</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">curl</span><span class="token plain"> -LfO </span><span class="token string" style="color:#C6105F">&#x27;https://airflow.apache.org/docs/apache-airflow/2.2.3/docker-compose.yaml&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># è®¾ç½®æ–‡ä»¶å¤¹æƒé™ï¼›docker-compose mount dirs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> -p ./dags ./logs ./plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name" style="color:#116329">echo</span><span class="token plain"> -e </span><span class="token string" style="color:#C6105F">&quot;AIRFLOW_UID=</span><span class="token string variable" style="color:#E36209">$(</span><span class="token string variable function" style="color:#8250DF">id</span><span class="token string variable" style="color:#E36209"> -u</span><span class="token string variable" style="color:#E36209">)</span><span class="token string" style="color:#C6105F">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain"> .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># åˆå§‹åŒ–æ•°æ®åº“</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> up airflow-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># æ¸…ç†ç¯å¢ƒï¼›æ¸…ç†ç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># docker-compose down --volumes --remove-orphans</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># å¯åŠ¨AirFlow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>quick-startä¸­çš„æ¨¡å—ï¼š</p><ul><li><code>airflow-scheduler</code> - The <a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/scheduler.html" target="_blank" rel="noopener noreferrer">scheduler</a> monitors all tasks and DAGs, then triggers the task instances once their dependencies are complete.</li><li><code>airflow-webserver</code> - The webserver is available at <code>http://localhost:8080</code>.</li><li><code>airflow-worker</code> - The worker that executes the tasks given by the scheduler.</li><li><code>airflow-init</code> - The initialization service.</li><li><code>flower</code> - <a href="https://flower.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">The flower app</a> for monitoring the environment. It is available at <code>http://localhost:5555</code>.</li><li><code>postgres</code> - The database.</li><li><code>redis</code> - <a href="https://redis.io/" target="_blank" rel="noopener noreferrer">The redis</a> - broker that forwards messages from scheduler to worker.</li></ul><p>é€šè¿‡CLIè®¿é—®ï¼š</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> run airflow-worker airflow info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># æˆ–è€…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">curl</span><span class="token plain"> -LfO </span><span class="token string" style="color:#C6105F">&#x27;https://airflow.apache.org/docs/apache-airflow/2.2.3/airflow.sh&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">chmod</span><span class="token plain"> +x airflow.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./airflow.sh info </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># æ˜¾ç¤ºairflowæœåŠ¡ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./airflow.sh </span><span class="token function" style="color:#8250DF">bash</span><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># è¿›å…¥å®¹å™¨bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./airflow.sh python </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># è¿›å…¥pythonæ§åˆ¶å°</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯åŠ¨æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080 ç”¨æˆ·å¯†ç  <code>airflow</code></p><p>DAGæŸ¥çœ‹ç•Œé¢ï¼š</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554742.png" alt="image-20220210155752796" class="img_ev3q"></p><p>åˆ†åˆ«ä»¥æ ‘å½¢å’Œå›¾</p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554165.png" class="img_ev3q"></p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554732.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="å¤§æ•°æ®å¤„ç†ä¸­çš„lambdaæ¶æ„å’Œkappaæ¶æ„"><a href="https://www.cnblogs.com/xiaodf/p/11642555.html" target="_blank" rel="noopener noreferrer">å¤§æ•°æ®å¤„ç†ä¸­çš„Lambdaæ¶æ„å’ŒKappaæ¶æ„</a><a href="#å¤§æ•°æ®å¤„ç†ä¸­çš„lambdaæ¶æ„å’Œkappaæ¶æ„" class="hash-link" aria-label="å¤§æ•°æ®å¤„ç†ä¸­çš„lambdaæ¶æ„å’Œkappaæ¶æ„çš„ç›´æ¥é“¾æ¥" title="å¤§æ•°æ®å¤„ç†ä¸­çš„lambdaæ¶æ„å’Œkappaæ¶æ„çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ul><li>æ•°æ®é‡‡é›†</li></ul><p>å°†åº”ç”¨ç¨‹åºäº§ç”Ÿçš„æ•°æ®å’Œæ—¥å¿—ç­‰åŒæ­¥åˆ°å¤§æ•°æ®ç³»ç»Ÿä¸­ï¼Œç”±äºæ•°æ®æºä¸åŒï¼Œè¿™é‡Œçš„æ•°æ®åŒæ­¥ç³»ç»Ÿå®é™…ä¸Šæ˜¯å¤šä¸ªç›¸å…³ç³»ç»Ÿçš„ç»„åˆã€‚æ•°æ®åº“åŒæ­¥é€šå¸¸ç”¨ Sqoop ï¼ˆç›®å‰é¡¹ç›®é€€ä¼‘ï¼Œä½¿ç”¨sparkæˆ–flinkæ›¿ä»£ï¼‰ï¼Œæ—¥å¿—åŒæ­¥å¯ä»¥é€‰æ‹© Flumeï¼Œæ‰“ç‚¹é‡‡é›†çš„æ•°æ®ç»è¿‡æ ¼å¼åŒ–è½¬æ¢åé€šè¿‡ Kafka ç­‰æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œä¼ é€’ã€‚</p><ul><li>æ•°æ®å¤„ç†</li></ul><p>è¿™éƒ¨åˆ†æ˜¯å¤§æ•°æ®å­˜å‚¨ä¸è®¡ç®—çš„æ ¸å¿ƒï¼Œæ•°æ®åŒæ­¥ç³»ç»Ÿå¯¼å…¥çš„æ•°æ®å­˜å‚¨åœ¨ HDFSã€‚MapReduceã€Hiveã€Spark ç­‰è®¡ç®—ä»»åŠ¡è¯»å– HDFS ä¸Šçš„æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œå†å°†è®¡ç®—ç»“æœå†™å…¥ HDFSã€‚</p><ul><li>æ•°æ®è¾“å‡ºä¸å±•ç¤º</li></ul><p>å¤§æ•°æ®è®¡ç®—äº§ç”Ÿçš„æ•°æ®è¿˜æ˜¯å†™å…¥åˆ° HDFS ä¸­ï¼Œä½†åº”ç”¨ç¨‹åºä¸å¯èƒ½åˆ° HDFS ä¸­è¯»å–æ•°æ®ï¼Œæ‰€ä»¥å¿…é¡»è¦å°† HDFS ä¸­çš„æ•°æ®å¯¼å‡ºåˆ°æ•°æ®åº“ä¸­ã€‚</p><p>Lambdaæ¶æ„ï¼š</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554943.jpg" alt="img" class="img_ev3q"></p><p>Lambdaæ¶æ„(Lambda Architecture),æ€»å…±ç”±ä¸‰å±‚ç³»ç»Ÿç»„æˆï¼š</p><p>æ‰¹å¤„ç†å±‚ï¼ˆBatch Layerï¼‰ï¼Œé€Ÿåº¦å¤„ç†å±‚ï¼ˆSpeed Layerï¼‰ä»¥åŠå“åº”æŸ¥è¯¢çš„æœåŠ¡å±‚ï¼ˆServing Layerï¼‰ã€‚</p><p>Kappaæ¶æ„ï¼š</p><p>ä»¥kafkaä¸ºä¾‹è¯´æ˜ï¼š</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554564.png" alt="img" class="img_ev3q"></p><p>å»æ‰äº†æ‰¹å¤„ç†å±‚ï¼Œä»…ä¿ç•™äº†é€Ÿåº¦å±‚ã€‚å®ç°æµæ‰¹ä¸€ä½“</p><p>ä»¥ä¸‹ä¸ºå…¶ä»–å†…å®¹è¡¥å……</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hudi-pk-iceberg">Hudi Pk Iceberg<a href="#hudi-pk-iceberg" class="hash-link" aria-label="Hudi Pk Icebergçš„ç›´æ¥é“¾æ¥" title="Hudi Pk Icebergçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><p><a href="https://view.inews.qq.com/a/20210909A0ARO400" target="_blank" rel="noopener noreferrer">ç»ˆäºæœ‰äººå°†æ•°æ®æ¹–è®²æ˜ç™½äº†</a></p><p><a href="https://www.cnblogs.com/leesf456/p/12710118.html" target="_blank" rel="noopener noreferrer">Hudiè®¾è®¡å’Œæ¶æ„è§£è¯»</a></p><p><a href="https://www.infoq.cn/article/08t12zv6ev9spxalpklq" target="_blank" rel="noopener noreferrer">æ–°ä¸€ä»£æµå¼æ•°æ®æ¹–å¹³å°</a></p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554389.png" alt="img" class="img_ev3q"></p><p><strong>ç½‘æ˜“ä¸¥é€‰Icebergåº”ç”¨å®è·µ</strong></p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554064.png" alt="img" class="img_ev3q"></p><p>Datahub-canal: ä¸»è¦ç”¨é€”æ˜¯åŸºäº MySQL æ•°æ®åº“å¢é‡æ—¥å¿—è§£æï¼Œæä¾›å¢é‡æ•°æ®è®¢é˜…å’Œæ¶ˆè´¹ã€‚ </p><p>Flune: Apache Flumeæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€å¯é åŠå¯ç”¨çš„æœåŠ¡ï¼Œç”¨äºæœ‰æ•ˆåœ°æ”¶é›†ã€èšåˆå’Œç§»åŠ¨å¤§é‡æ—¥å¿—æ•°æ®ã€‚</p><p>DataLake æ•°æ®æ¹–</p><p>ODSï¼ˆOperational Data Storeï¼‰è¿è¥æ•°æ®å­˜å‚¨. é¢å‘ä¸»é¢˜çš„ã€é›†æˆçš„ã€å¯æ›´æ–°çš„ã€å½“å‰æˆ–æ¥è¿‘å½“å‰çš„ã€‚
DWï¼ˆData Warehouseï¼‰æ•°æ®ä»“å‚¨
DMï¼ˆData Marketï¼‰æ•°æ®é›†å¸‚</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="schema-registry">Schema Registry<a href="#schema-registry" class="hash-link" aria-label="Schema Registryçš„ç›´æ¥é“¾æ¥" title="Schema Registryçš„ç›´æ¥é“¾æ¥">â€‹</a></h2><blockquote><p>ã€<a href="https://github.com/confluentinc/schema-registry" target="_blank" rel="noopener noreferrer">Github</a>ã€‘Confluent Schema Registry provides a serving layer for your metadata. It provides a RESTful interface for storing and retrieving your AvroÂ®, JSON Schema, and Protobuf schemas. It stores a versioned history of all schemas based on a specified subject name strategy, provides multiple compatibility settings and allows evolution of schemas according to the configured compatibility settings and expanded support for these schema types. It provides serializers that plug into Apache KafkaÂ® clients that handle schema storage and retrieval for Kafka messages that are sent in any of the supported formats.</p></blockquote><p><a href="https://www.cnblogs.com/emqx/p/11547881.html" target="_blank" rel="noopener noreferrer">åšæ–‡</a>ä¸­ä»‹ç»äº†EMQ Xä¼ä¸šç‰ˆä¸­Schema RegistryåŠŸèƒ½ï¼Œå¤„ç†å„ç±»ç¼–è§£ç åè®®ã€‚</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281556600.png" alt="img" class="img_ev3q"></p><p>Schema Registryå’ŒRule Engineåœ¨EMQXä¸­çš„åº”ç”¨ï¼š</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281556479.png" alt="img" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·">Oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·<a href="#oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·" class="hash-link" aria-label="Oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·çš„ç›´æ¥é“¾æ¥" title="Oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·çš„ç›´æ¥é“¾æ¥">â€‹</a></h2><ol><li>ML</li><li>æ•°æ®ç›®å½•</li><li>Analytics é›†æˆçš„æ•°æ®åˆ†æå·¥å…·</li><li>Graph Analytics é›†æˆçš„å›¾å½¢åˆ†æå·¥å…·</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">æœ€å<!-- -->äº <b><time datetime="2023-02-09T03:21:02.000Z">2023å¹´2æœˆ9æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡æ¡£åˆ†é¡µå¯¼èˆª"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/dev&amp;ops/bigdata"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">bigdata</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dev&amp;ops/bigdata/RelatedTerms"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">RelatedTerms</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#datahub" class="table-of-contents__link toc-highlight">DataHub</a><ul><li><a href="#å®‰è£…" class="table-of-contents__link toc-highlight">å®‰è£…</a></li></ul></li><li><a href="#amundsen" class="table-of-contents__link toc-highlight">Amundsen</a><ul><li><a href="#databuilder" class="table-of-contents__link toc-highlight">Databuilder</a></li><li><a href="#neo4j" class="table-of-contents__link toc-highlight">Neo4j</a></li></ul></li><li><a href="#atlas" class="table-of-contents__link toc-highlight">Atlas</a></li><li><a href="#ranger" class="table-of-contents__link toc-highlight">Ranger</a></li><li><a href="#datax" class="table-of-contents__link toc-highlight">DataX</a></li><li><a href="#cdc" class="table-of-contents__link toc-highlight">CDC</a></li><li><a href="#flink-cdc-connectors" class="table-of-contents__link toc-highlight">Flink CDC Connectors</a><ul><li><a href="#mysqlå¯åŠ¨cdc" class="table-of-contents__link toc-highlight">MySqlå¯åŠ¨CDC</a></li><li><a href="#postgreså¯åŠ¨cdc-å‚è€ƒ" class="table-of-contents__link toc-highlight">Postgreså¯åŠ¨CDC å‚è€ƒ</a></li><li><a href="#æŠ¥é”™è®°å½•" class="table-of-contents__link toc-highlight">æŠ¥é”™è®°å½•</a></li></ul></li><li><a href="#zeppelin-flinkè§£é‡Šå™¨" class="table-of-contents__link toc-highlight">Zeppelin Flinkè§£é‡Šå™¨</a><ul><li><a href="#ç‰¹ç‚¹" class="table-of-contents__link toc-highlight">ç‰¹ç‚¹</a></li><li><a href="#å¿«é€Ÿå¯åŠ¨" class="table-of-contents__link toc-highlight">å¿«é€Ÿå¯åŠ¨</a></li><li><a href="#æ¶æ„" class="table-of-contents__link toc-highlight">æ¶æ„</a></li><li><a href="#é…ç½®" class="table-of-contents__link toc-highlight">é…ç½®</a></li><li><a href="#ç¬¬ä¸‰æ–¹ä¾èµ–" class="table-of-contents__link toc-highlight">ç¬¬ä¸‰æ–¹ä¾èµ–</a></li><li><a href="#flink-udf" class="table-of-contents__link toc-highlight">Flink UDF</a></li><li><a href="#hive" class="table-of-contents__link toc-highlight">Hive</a></li></ul></li><li><a href="#æ•°æ®æ¹–å®‰å…¨" class="table-of-contents__link toc-highlight">æ•°æ®æ¹–å®‰å…¨</a></li><li><a href="#qubole" class="table-of-contents__link toc-highlight">Qubole</a></li><li><a href="#airflow" class="table-of-contents__link toc-highlight">AirFlow</a></li><li><a href="#å¤§æ•°æ®å¤„ç†ä¸­çš„lambdaæ¶æ„å’Œkappaæ¶æ„" class="table-of-contents__link toc-highlight">å¤§æ•°æ®å¤„ç†ä¸­çš„Lambdaæ¶æ„å’ŒKappaæ¶æ„</a></li><li><a href="#hudi-pk-iceberg" class="table-of-contents__link toc-highlight">Hudi Pk Iceberg</a></li><li><a href="#schema-registry" class="table-of-contents__link toc-highlight">Schema Registry</a></li><li><a href="#oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·" class="table-of-contents__link toc-highlight">Oracleå¤§æ•°æ®æ¹–æœåŠ¡é›†æˆå·¥å…·</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/docs">æ–‡æ¡£</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 - 2024 loong's wiki, Inc. Built with <a href="https://docusaurus.io/zh-CN/">Docusaurus</a> .</div></div></div></footer></div>
<script src="/assets/js/runtime~main.68f25493.js"></script>
<script src="/assets/js/main.88d057a0.js"></script>
</body>
</html>