<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-dev&ops/bigdata/Datahub">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">数据目录 | Loong&#x27;s Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vinloong.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vinloong.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="数据目录 | Loong&#x27;s Wiki"><meta data-rh="true" name="description" content="数据目录，它是数据湖中所有大数据的目录。通过将元数据应用于数据湖中的所有内容，数据发现和治理变得更加容易。通过将元数据和分层逻辑应用于传入数据，数据集接收必须要的上下文和可跟踪的血缘关系，以便在工作流中有效使用。数据源像一条条小溪，最终将数据倾倒入数据湖中，如果缺乏数据目录的组织级别，最终数据湖会变成数据沼泽。"><meta data-rh="true" property="og:description" content="数据目录，它是数据湖中所有大数据的目录。通过将元数据应用于数据湖中的所有内容，数据发现和治理变得更加容易。通过将元数据和分层逻辑应用于传入数据，数据集接收必须要的上下文和可跟踪的血缘关系，以便在工作流中有效使用。数据源像一条条小溪，最终将数据倾倒入数据湖中，如果缺乏数据目录的组织级别，最终数据湖会变成数据沼泽。"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub"><link data-rh="true" rel="alternate" href="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://vinloong.github.io/docs/dev&amp;ops/bigdata/Datahub" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Loong&#39;s Wiki RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Loong&#39;s Wiki Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Loong&#39;s Wiki JSON Feed">






<link rel="stylesheet" href="/katex/katex.min.css"><link rel="stylesheet" href="/assets/css/styles.dfd1a4d8.css">
<link rel="preload" href="/assets/js/runtime~main.68f25493.js" as="script">
<link rel="preload" href="/assets/js/main.88d057a0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"></div><b class="navbar__title text--truncate">Loong&#x27;s Wiki</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/category/docs">文档</a><a class="navbar__item navbar__link" href="/docs/kubernetes">kubernetes</a><a class="navbar__item navbar__link" href="/docs/linux">linux</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/dev&amp;ops/Jenkins-faq">dev&amp;ops</a><a class="navbar__item navbar__link" href="/docs/others/exerclse/01">others</a><a class="navbar__item navbar__link" href="/blog">博客</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">🔖 常用书签</a><ul class="dropdown__menu"><li class="dropdown-archived"><b>开源镜像站</b></li><li><a href="https://mirrors.ustc.edu.cn" target="_blank" rel="noopener noreferrer" class="dropdown__link">中国科学技术大学镜像站<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://mirrors.huaweicloud.com" target="_blank" rel="noopener noreferrer" class="dropdown__link">华为开源镜像站<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://developer.aliyun.com/mirror/" target="_blank" rel="noopener noreferrer" class="dropdown__link">阿里镜像站<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/vinloong/wiki" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--light_HNdA" height="32" width="32"><img src="/img/logo.svg" alt="Loong&#x27;s Wiki Logo" class="themedImage_ToTc themedImage--dark_i4oU" height="32" width="32"><b>Loong&#x27;s Wiki</b></a><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/Jenkins-faq">Jenkins 遇到的问题和解决方案</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/Prometheus/PromQL">Prometheus</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/WSL2 安装和使用">wsl install</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/dev&amp;ops/bigdata">bigdata</a><button aria-label="打开/收起侧边栏菜单「bigdata」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/dev&amp;ops/bigdata/Datahub">数据目录</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev&amp;ops/bigdata/RelatedTerms">RelatedTerms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dev&amp;ops/bigdata/linkedin-datahub">datahub</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/dev&amp;ops/ceph">CEPH</a><button aria-label="打开/收起侧边栏菜单「CEPH」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/choco">choco install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/devops-tools.md">CI/CD 工具链</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/es/eck">es</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/faq">faq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/ffaq">ffaq</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/flink">flink 三种部署模式</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/git/FAQ">git</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/git-dev">Git使用手册</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/git">git</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/github-repositories">一些开源项目资源整理</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/golang/base">golang</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/jenkins-in-k8s">jenkins in k8s</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/kafka/kafka-common">kafka</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/matplotlib-start">JupyterLab quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/monting">monting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/nfs">搭建 NFS 服务器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/nginx-faq">nginx 限制IP访问</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/nodejs/faq">nodejs</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/postgres">postgres install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/postgresql-optimization">postgresql 优化</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/dev&amp;ops/python/faq">python</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/sonarqube">sonarqube quick start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/sublime">sublime 使用技巧</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/two-factor-authentication">两步验证(2FA)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/vs_community-install-offline">vs studio 离线安装</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/windows-commands">command in windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/wsl">wsl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/wsl2-install-systemd">wsl2 intall systemd</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/dev&amp;ops/用docker构建你的开发环境">WSL 快速入门</a></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/dev&amp;ops/bigdata"><span itemprop="name">bigdata</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">数据目录</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>数据目录</h1></header><p>数据目录，它是数据湖中所有<a href="https://www.oracle.com/big-data/guide/what-is-big-data.html" target="_blank" rel="noopener noreferrer">大数据的目录。</a>通过将元数据应用于数据湖中的所有内容，数据发现和治理变得更加容易。通过将元数据和分层逻辑应用于传入数据，数据集接收必须要的上下文和可跟踪的血缘关系，以便在工作流中有效使用。数据源像一条条小溪，最终将数据倾倒入数据湖中，如果缺乏数据目录的组织级别，最终数据湖会变成数据沼泽。</p><p><a href="https://cloud.tencent.com/developer/article/1746714" target="_blank" rel="noopener noreferrer">Datahub VS Atlas VS Amundsen</a></p><table><thead><tr><th align="left">搜索</th><th align="left">推荐</th><th align="left">表描述</th><th align="left">数据预览</th><th align="left">列统计</th><th align="left">占用指标</th><th align="left">权限</th><th align="left">排名</th><th align="left">数据血统</th><th align="left">改变通知</th><th align="left">开源</th><th align="left">文档</th><th align="left">支持数据源</th><th></th></tr></thead><tbody><tr><td align="left">Amundsen (Lyft)</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left">Todo</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td>Hive, Redshift, Druid, RDBMS, Presto, Snowflake, etc.</td></tr><tr><td align="left">Datahub (LinkedIn)</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td>Hive, Kafka, RDBMS</td></tr><tr><td align="left">Metacat (Netflix)</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left"></td><td align="left">Todo</td><td align="left"></td><td align="left">Todo</td><td align="left">✔</td><td align="left"></td><td>Hive, RDS, Teradata, Redshift, S3, Cassandra</td></tr><tr><td align="left">Atlas (Apache)</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td>HBase, Hive, Sqoop, Kafka, Storm</td></tr><tr><td align="left">Marquez (Wework）</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td>S3, Kafka</td></tr><tr><td align="left">Databook (Uber)</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td>Hive, Vertica, MySQL, Postgress, Cassandra</td></tr><tr><td align="left">Dataportal (Airbnb)</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td>Unknown</td></tr><tr><td align="left">Data Access Layer (Twitter)</td><td align="left">✔</td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td>HDFS, Vertica, MySQL</td></tr><tr><td align="left">Lexikon (Spotify)</td><td align="left">✔</td><td align="left">✔</td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left">✔</td><td align="left">✔</td><td align="left"></td><td align="left"></td><td align="left"></td><td align="left"></td><td>Unknown</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="datahub">DataHub<a href="#datahub" class="hash-link" aria-label="DataHub的直接链接" title="DataHub的直接链接">​</a></h2><p><a href="https://datahubproject.io/docs/quickstart/" target="_blank" rel="noopener noreferrer">官网入门</a></p><p><a href="https://github.com/linkedin/datahub" target="_blank" rel="noopener noreferrer">https://github.com/linkedin/datahub</a> ⭐4.7k</p><p>DataHub 是一个现代数据目录，旨在支持端到端数据发现、数据可观察性和数据治理。这个可扩展的元数据平台是为开发人员构建的，让他们可以适应快速变革的数据生态系统的复杂性，并让数据从业者在其组织内利用数据的全部价值。</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="安装">安装<a href="#安装" class="hash-link" aria-label="安装的直接链接" title="安装的直接链接">​</a></h3><p>python3</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic"># ubuntu中已经预装python和python3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 执行python3 -m pip 提示 pip模块找不到</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">install</span><span class="token plain"> python3-pip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>docker-compose</p><p>参考:<a href="https://blog.csdn.net/pushiqiang/article/details/78682323" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/pushiqiang/article/details/78682323</a></p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">curl</span><span class="token plain"> -L </span><span class="token string" style="color:#C6105F">&quot;https://github.com/docker/compose/releases/download/1.29.1/docker-compose-</span><span class="token string variable" style="color:#E36209">$(</span><span class="token string variable function" style="color:#8250DF">uname</span><span class="token string variable" style="color:#E36209"> -s</span><span class="token string variable" style="color:#E36209">)</span><span class="token string" style="color:#C6105F">-</span><span class="token string variable" style="color:#E36209">$(</span><span class="token string variable function" style="color:#8250DF">uname</span><span class="token string variable" style="color:#E36209"> -m</span><span class="token string variable" style="color:#E36209">)</span><span class="token string" style="color:#C6105F">&quot;</span><span class="token plain"> -o /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">sudo</span><span class="token plain"> </span><span class="token function" style="color:#8250DF">chmod</span><span class="token plain"> +x /usr/local/bin/docker-compose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>安装DataHub CLI</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip install --upgrade pip wheel setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip uninstall datahub acryl-datahub || true  # sanity check - ok if it fails</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m pip install --upgrade acryl-datahub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datahub version # 或 python3 -m datahub version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>执行quick-start</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">datahub docker quickstart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>@TODO 启动失败</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="amundsen">Amundsen<a href="#amundsen" class="hash-link" aria-label="Amundsen的直接链接" title="Amundsen的直接链接">​</a></h2><p><a href="https://www.amundsen.io/amundsen/" target="_blank" rel="noopener noreferrer">https://www.amundsen.io/amundsen/</a></p><p><a href="https://github.com/amundsen-io/amundsen" target="_blank" rel="noopener noreferrer">https://github.com/amundsen-io/amundsen</a> ⭐3k</p><p>Amundsen 是一个数据发现和元数据引擎，用于提高数据分析师、数据科学家和工程师在与数据交互时的工作效率。</p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281601478.png" class="img_ev3q"></p><p>Amundsen的架构：</p><p>前端：基于Flask的web应用侧，展示层基于React with Redux, Bootstrap, Webpack, and Babel.</p><p>搜索：基于ElasticSearch并提供RESTful API进行搜索服务。搜索索引基于Databuilder elasticsearch publisher.</p><p>元数据：使用Neo4j代理与Neo4j图形数据库交互，提供元数据服务。Amundsen中的元数据模型如下图：</p><p>DataBuilder: 提供数据摄取库构建元数据。</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281552420.png" alt="img" class="img_ev3q"></p><p>Quick Start:</p><p>准备阶段，安装python&gt;=3.7</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># python &gt; 3.7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install zlib1g-dev libbz2-dev libssl-dev libncurses5-dev libsqlite3-dev libreadline-dev tk-dev libgdbm-dev libdb-dev libpcap-dev xz-utils libexpat1-dev liblzma-dev libffi-dev libc6-dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># download https://www.python.org/ftp/python/3.9.10/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo mkdir -p /usr/local/python3 #建立安装目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">##编译安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#后面加上 --enable-optimizations 会自动安装pip3及优化配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./configure --prefix=/usr/local/python3  --enable-optimizations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo make install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /usr/bin/python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo rm -rf /usr/bin/pip3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#添加python3的软链接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ln -s /usr/local/python3/bin/python3.9 /usr/bin/python3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#添加 pip3 的软链接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo ln -s /usr/local/python3/bin/pip3.9 /usr/bin/pip3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -V</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 -V</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>运行官方示例</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone --recursive https://github.com/amundsen-io/amundsen.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Neo4j Backend</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose -f docker-amundsen.yml up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># For Atlas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ docker-compose -f docker-amundsen-atlas.yml up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 导入样本数据到Neo4j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd databuilder</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apt-get install python3-venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -i https://pypi.tuna.tsinghua.edu.cn/simple/ --upgrade setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv/bin/activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install --upgrade pip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple/ -r requirements.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># maybe you need upgrade setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3.4 install --upgrade setuptools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 setup.py install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 example/scripts/sample_data_loader.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最终通过在docker中运行成功：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker run -it -v /home/anxin/amundsen-main:/data python:3.7.12-bullseye /bin/bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281552964.png" alt="image-20220222155316857" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="databuilder">Databuilder<a href="#databuilder" class="hash-link" aria-label="Databuilder的直接链接" title="Databuilder的直接链接">​</a></h3><p>客户端通过Job启动ETL任务，包括task和publisher。</p><p>其中task控制Extractor、Transformer、Loader组件，实现Amundsen的ETL流程。</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281552586.png" alt="image-20220222105956488" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="extractor"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/extractor" target="_blank" rel="noopener noreferrer" title="Extractor">Extractor</a><a href="#extractor" class="hash-link" aria-label="extractor的直接链接" title="extractor的直接链接">​</a></h4><p>An extractor extracts records from the source. This does not necessarily mean that it only supports <a href="https://blogs.sap.com/2013/12/09/to-push-or-pull-that-is-the-question/" target="_blank" rel="noopener noreferrer" title="pull pattern">pull pattern</a> in ETL. For example, extracting records from messaging bus makes it a push pattern in ETL.</p><p>导出器，不仅仅包含拉取模式，例如消息总线中推送过来的消息。</p><p>内置了哪些导出器：</p><p>DBAPIExtractor 数据库导出</p><p>Generic 通用导出</p><p>HiveTableLastUpdated  导出最近更新的Hive metastore</p><p>HiveTableMetadata 导出Hive metadata</p><p>Cassandra 导出apache cassandra数据库metastore</p><p>Glue 导出 AWS Glue metastore</p><p>Delta-Lake-MetadataExtractor 运行在spark上面，使用Spark sql导出delta-lake 元数据</p><p>PostgresMetadataExtractor 导出Postgres或Redshift数据库的表列元数据，包括数据库、架构、表名、表描述、列名、列描述。</p><p>RestAPIExtractor  通过构造RESTAPI查询导出数据 <a href="#rest-api-query">RestAPIQuery</a>。</p><p>ElasticsearchMetadataExtractor 导出ES索引的元数据</p><p>其他：Neo4j/Altas/BigQuery/Snowflake/Databricks/Superset</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="transformer"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/transformer" target="_blank" rel="noopener noreferrer" title="Transformer">Transformer</a><a href="#transformer" class="hash-link" aria-label="transformer的直接链接" title="transformer的直接链接">​</a></h4><p>A transformer takes a record from either an extractor or from other transformers (via ChainedTransformer) to transform the record.</p><p>转换器，处理从Extractor或另一个Transformer中过来的消息。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="loader"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/loader" target="_blank" rel="noopener noreferrer" title="Loader">Loader</a><a href="#loader" class="hash-link" aria-label="loader的直接链接" title="loader的直接链接">​</a></h4><p>A loader takes a record from a transformer or from an extractor directly and loads it to a sink, or a staging area. As the loading operates at a record-level, it&#x27;s not capable of supporting atomicity.</p><p>加载到Sink、或者一个输出区域*(staging area).</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="task"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/task" target="_blank" rel="noopener noreferrer" title="Task">Task</a><a href="#task" class="hash-link" aria-label="task的直接链接" title="task的直接链接">​</a></h4><p>A task orchestrates an extractor, a transformer, and a loader to perform a record-level operation.</p><p>Task调度ETL组件 ，执行记录级别操作</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="record"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/models" target="_blank" rel="noopener noreferrer" title="Record">Record</a><a href="#record" class="hash-link" aria-label="record的直接链接" title="record的直接链接">​</a></h4><p>A record is represented by one of <a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/models" target="_blank" rel="noopener noreferrer" title="models">models</a>.</p><p>代表一条模型</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="publisher"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/publisher" target="_blank" rel="noopener noreferrer" title="Publisher">Publisher</a><a href="#publisher" class="hash-link" aria-label="publisher的直接链接" title="publisher的直接链接">​</a></h4><p>A publisher is an optional component. Its common usage is to support atomicity in job level and/or to easily support bulk load into the sink.</p><p>publisher是可选组件，支持job级别的自动化或者简单支持批量加载到Sink。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="job"><a href="https://github.com/amundsen-io/amundsen/tree/main/databuilder/databuilder/job" target="_blank" rel="noopener noreferrer" title="Job">Job</a><a href="#job" class="hash-link" aria-label="job的直接链接" title="job的直接链接">​</a></h4><p>A job is the highest level component in Databuilder, and it orchestrates a task and, if any, a publisher.</p><p>Job是Databuilder中层级最高的组件，包括task或publisher。</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="model">Model<a href="#model" class="hash-link" aria-label="Model的直接链接" title="Model的直接链接">​</a></h4><p>Models are abstractions representing the domain.</p><p>Model（模型）是领域代表的抽象</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="neo4j">Neo4j<a href="#neo4j" class="hash-link" aria-label="Neo4j的直接链接" title="Neo4j的直接链接">​</a></h3><p><a href="https://baike.baidu.com/item/Neo4j" target="_blank" rel="noopener noreferrer">Neo4j</a>是一个高性能的,NOSQL图形数据库。</p><p>在docker-compose中启动：</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#22863A">neo4j</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> neo4j</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3.5.26</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> neo4j_amundsen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> NEO4J_AUTH=neo4j/test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">ulimits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#22863A">nofile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 限制打开的文件数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#22863A">soft</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">40000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#22863A">hard</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">40000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 7474</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#005CC5">7474</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 7687</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#005CC5">7687</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./example/docker/neo4j/conf</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/neo4j/conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./example/docker/neo4j/plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/neo4j/plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./example/backup</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/backup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> neo4j_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#22863A">networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> amundsennet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553402.png" alt="image-20220221141523439" class="img_ev3q"></p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553103.png" alt="image-20220221142216484" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="atlas">Atlas<a href="#atlas" class="hash-link" aria-label="Atlas的直接链接" title="Atlas的直接链接">​</a></h2><p><a href="https://atlas.apache.org/" target="_blank" rel="noopener noreferrer">https://atlas.apache.org/</a></p><p><a href="https://github.com/apache/atlas" target="_blank" rel="noopener noreferrer">https://github.com/apache/atlas</a> ⭐1.2k</p><p>Atlas是一组可扩展的核心基础治理服务，为组织提供开放的元数据管理和治理功能，以构建其数据资产的目录，对这些资产进行分类和治理，并为数据科学家、分析师和数据治理团队提供围绕这些数据资产的协作能力。</p><ul><li>能够动态创建分类 - 如 PII、EXPIRES_ON、DATA_QUALITY、SENSITIVE</li><li>集成多重 Hadoop 和非 Hadoop 元数据的预定义类型</li><li>血统：直观的 UI，可在数据通过各种流程时查看数据沿袭</li><li>搜索发现：可按类型、分类、属性值或自由文本搜索实体，并支持DSL查询</li><li>安全：与Apache Ranger集成，支持按分类对数据访问进行授权/数据屏蔽</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ranger">Ranger<a href="#ranger" class="hash-link" aria-label="Ranger的直接链接" title="Ranger的直接链接">​</a></h2><p><a href="https://ranger.apache.org/quick_start_guide.html" target="_blank" rel="noopener noreferrer">https://ranger.apache.org/quick_start_guide.html</a></p><p><a href="https://github.com/apache/ranger" target="_blank" rel="noopener noreferrer">https://github.com/apache/ranger</a>  ⭐582</p><p>Apache Ranger™ is a framework to enable, monitor and manage comprehensive data security across the Hadoop platform.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="datax">DataX<a href="#datax" class="hash-link" aria-label="DataX的直接链接" title="DataX的直接链接">​</a></h2><p>DataX是阿里云DataWorks数据集成的开源版本。离线数据同步工具/平台。</p><blockquote><p>链接：</p><p>阿里云大数据开发治理平台 <a href="https://www.aliyun.com/product/bigdata/ide" target="_blank" rel="noopener noreferrer">DataWorks</a></p><p><a href="https://github.com/alibaba/DataX/blob/master/introduction.md" target="_blank" rel="noopener noreferrer">DataX3.0介绍</a></p></blockquote><p>架构： Job &gt; 切分Task&gt; 划分TaskGroup &gt; 执行Task (Read+Channel+Writer)</p><p>快速使用：</p><p>下载：<a href="http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz" target="_blank" rel="noopener noreferrer">http://datax-opensource.oss-cn-hangzhou.aliyuncs.com/datax.tar.gz</a></p><blockquote><p>运行前：</p><ul><li><p>删除plugin目录下（包含reader，writer目录下）所有 ._开头的文件</p></li><li><p>要在python3环境运行，需要用datax-web项目doc下的py文件拷贝到当前bin下</p></li></ul></blockquote><p>配置：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看对应模板</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ python datax.py -r streamreader -w streamwriter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 保存模板并修改，滞后执行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ python datax.py ./stream2stream.json </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/WeiYe-Jing/datax-web" target="_blank" rel="noopener noreferrer">DataX WEB UI</a></p><p>任务管理和调度、WEB构建DataX Json、WEB实时日志、运行参数配置等</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553041.png" alt="img" class="img_ev3q"></p><p><a href="https://github.com/WeiYe-Jing/datax-web/blob/master/userGuid.md" target="_blank" rel="noopener noreferrer">DataX Web部署</a></p><p>datax_admin 控制台： 需指定数据库地址（bin/sql） /邮件发送账户、日志、job线程池等</p><p>datax_executor 执行器（通过python_path指定datax engine的运行目录）</p><ul><li>datax.job.admin admin地址</li><li>executor.port 执行器端口</li><li>jsonpath  datax json临时文件保存路径</li><li>pypath datax启动脚本 <code>xxx/datax/bin/datax.py</code></li></ul><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553665.png" alt="image-20220223155031469" class="img_ev3q"></p><p>可以在日志管理中查看任务执行情况和日志输出。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cdc">CDC<a href="#cdc" class="hash-link" aria-label="CDC的直接链接" title="CDC的直接链接">​</a></h2><p>Postgresql通过逻辑复制(&gt;10.0 logical replication)实际就是一个CDC应用，等价于消费预写式日志 WAL。</p><p><a href="https://debezium.io/documentation/reference/1.8/tutorial.html" target="_blank" rel="noopener noreferrer">Debezium 简介</a></p><p>Debezium（<a href="https://materialize.com/docs/guides/cdc-postgres/" target="_blank" rel="noopener noreferrer">DOC</a>） 是一个分布式平台，可将您现有的数据库转换为事件流（CDC）服务。</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flink-cdc-connectors">Flink CDC Connectors<a href="#flink-cdc-connectors" class="hash-link" aria-label="Flink CDC Connectors的直接链接" title="Flink CDC Connectors的直接链接">​</a></h2><p><a href="https://ververica.github.io/flink-cdc-connectors/master/content/about.html" target="_blank" rel="noopener noreferrer">官方文档</a></p><p><a href="https://github.com/ververica/flink-cdc-connectors" target="_blank" rel="noopener noreferrer">https://github.com/ververica/flink-cdc-connectors</a></p><p>是一个集成Debezium CDC的Flink Connector组件。</p><p>第一个例子：</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#准备flink环境，这里下载1.13.5版本到node38节点，执行 bin/start-cluster.sh启动standalone集群，通过38:8081访问flink控制台UI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#下载cdc项目git代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn spotless:apply</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvn clean install -DskipTests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#完后，对应的cdc jar包在.m2目录 F:\Program Files\apache-maven-3.2.3\mavenRepository\.m2\repository\com\ververica</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#这里用到 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flink-connector-mysql-cdc-2.2-SNAPSHOT.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#拷贝相关cdc的jar包到 FLINK_HOME/lib/.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>最终client lib下的jar包形态：</p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553644.png" alt="image-20220224172332791" class="img_ev3q"></p><ul><li>修改： flink-sql-connector-elasticsearch7_2.11-1.13.6.jar  --&gt; </li></ul><p>在sql-client CLI中执行：</p><p><a href="https://ververica.github.io/flink-cdc-connectors/master/content/%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/mysql-postgres-tutorial-zh.html" target="_blank" rel="noopener noreferrer">例子来源</a></p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#6B6B6B;font-style:italic">-- 创建MySql Product对应表，同步数据库表的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> products </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mysql-cdc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;hostname&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;10.8.30.37&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;port&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;3306&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;password&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;123456&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;database-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mydb&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#C6105F">&#x27;table-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;products&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- 创建订单表映射</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> orders </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_date </span><span class="token keyword" style="color:#CF222E">TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   customer_name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   price </span><span class="token keyword" style="color:#CF222E">DECIMAL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_status </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mysql-cdc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;hostname&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;10.8.30.37&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;port&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;3306&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;password&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;123456&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;database-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;mydb&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;table-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;orders&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- 创建快递表（PostgreSQL）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> shipments </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   shipment_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   origin STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   destination STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   is_arrived </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">shipment_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;postgres-cdc&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;hostname&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;10.8.30.39&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;port&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;5432&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;username&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;postgres&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;password&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;postgres&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;database-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;trest&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;schema-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;public&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;table-name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;shipments&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token string" style="color:#C6105F">&#x27;debezium.plugin.name&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;wal2json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- 目标ES数据表</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">TABLE</span><span class="token plain"> enriched_orders </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_date </span><span class="token keyword" style="color:#CF222E">TIMESTAMP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   customer_name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   price </span><span class="token keyword" style="color:#CF222E">DECIMAL</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#005CC5">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#005CC5">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   order_status </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_name STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   product_description STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   shipment_id </span><span class="token keyword" style="color:#CF222E">INT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   origin STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   destination STRING</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   is_arrived </span><span class="token keyword" style="color:#CF222E">BOOLEAN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword" style="color:#CF222E">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">KEY</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">NOT</span><span class="token plain"> ENFORCED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;connector&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;elasticsearch-6&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;hosts&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;http://10.8.30.155:9200&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;index&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">=</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;enriched_orders&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token string" style="color:#C6105F">&#x27;document-type&#x27;</span><span class="token operator" style="color:#D73A49">=</span><span class="token string" style="color:#C6105F">&#x27;_doc&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic">-- 关联查询形成宽表，插入到ES中</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">INTO</span><span class="token plain"> enriched_orders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">SELECT</span><span class="token plain"> o</span><span class="token punctuation" style="color:#393A34">.</span><span class="token operator" style="color:#D73A49">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">description</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shipment_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">origin</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">destination</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_arrived</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">FROM</span><span class="token plain"> orders </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> o</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">JOIN</span><span class="token plain"> products </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> p </span><span class="token keyword" style="color:#CF222E">ON</span><span class="token plain"> o</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">product_id</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">JOIN</span><span class="token plain"> shipments </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> s </span><span class="token keyword" style="color:#CF222E">ON</span><span class="token plain"> o</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_id</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mysql启动cdc">MySql启动CDC<a href="#mysql启动cdc" class="hash-link" aria-label="MySql启动CDC的直接链接" title="MySql启动CDC的直接链接">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#/etc/mysql/mysql.conf.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[mysqld]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">log-bin=mysql-bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">server-id=1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">binlog_format=ROW</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show variables like &#x27;log_%&#x27;; # 显示ON表示打开</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="postgres启动cdc-参考">Postgres启动CDC <a href="https://debezium.io/documentation/reference/postgres-plugins.html" target="_blank" rel="noopener noreferrer">参考</a><a href="#postgres启动cdc-参考" class="hash-link" aria-label="postgres启动cdc-参考的直接链接" title="postgres启动cdc-参考的直接链接">​</a></h3><p>9.6需要使用插件 <a href="https://github.com/eulerto/wal2json/blob/master/README.md" target="_blank" rel="noopener noreferrer">wal2json</a>。10+版本不需要使用插件。</p><blockquote><p>decoderbufs
需要安装一堆插件,在centos上非常难于安装,官方给出的例子也是基于debein操作系统</p><p>wal2json
debezium对wal2json的支持不好,他自己官网说的</p><p>pgoutput
postgres-10 纳入了内核 以下为pgoutput解析出来的逻辑数据</p></blockquote><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#安装wal2json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/eulerto/wal2json -b master --single-branch \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; cd wal2json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; git checkout d2b7fef021c46e0d429f2c1768de361069e58696 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; make &amp;&amp; make install \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; cd .. \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp;&amp; rm -rf wal2json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#postgres.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># MODULES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">shared_preload_libraries = &#x27;wal2json&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># REPLICATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wal_level = logical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_wal_senders = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_replication_slots = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 数据库用户权限,至少具有REPLICATION和LOGIN权限 (postgres用户默认有权限) ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CREATE USER user WITH PASSWORD &#x27;pwd&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ALTER ROLE user replication;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grant CONNECT ON DATABASE test to user;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRANT SELECT ON ALL TABLES IN SCHEMA public TO user;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 数据库访问权限 (pg_hba.conf)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">local   replication     postgres                        trust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host    replication     postgres        0.0.0.0/0       md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host    replication     FashionAdmin    0.0.0.0/0       md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host    replication     FashionAdmin    ::1/128         md5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 重启pg服务</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service postgresql restart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试wal2json是否启用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pg_recvlogical -d trest --slot test_slot --create-slot -P wal2json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pg_recvlogical -d trest --slot test_slot --start -o pretty-print=1 -f -</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 删除槽</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pg_recvlogical -d trest --slot test_slot --drop-slot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="报错记录">报错记录<a href="#报错记录" class="hash-link" aria-label="报错记录的直接链接" title="报错记录的直接链接">​</a></h3><ol><li><p>java.io.StreamCorruptedException: unexpected block data</p><p>类加载顺序问题，flink默认是child-first，在flink的flink-conf.yaml文件中添加<code>classloader.resolve-order: parent-first</code> 改成parent-first，重启集群即可。</p></li></ol><ol start="2"><li>s</li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="zeppelin-flink解释器">Zeppelin Flink解释器<a href="#zeppelin-flink解释器" class="hash-link" aria-label="Zeppelin Flink解释器的直接链接" title="Zeppelin Flink解释器的直接链接">​</a></h2><p>数据科学笔记本。</p><p>开发人员将<strong>Jupyter</strong>描述为“<em>多语言交互式计算环境</em>”。Jupyter Notebook 是一个基于 Web 的交互式计算平台，结合了实时代码、方程式、叙述性文本、可视化、交互式仪表板和其他媒体。 <code>流行</code>  <code>Python</code></p><p>另一方面，<strong>Apache Zeppelin</strong>被详细描述为“<em>支持交互式数据分析的基于 Web 的笔记本</em>”。支持交互式数据分析的基于 Web 的笔记本。您可以使用 SQL、Scala 等工具制作精美的数据驱动、交互式和协作文档。 <code>大数据</code> <code>Python Scala</code> <code>SQL</code></p><p>Jupyter 和 Apache Zeppelin 主要可以归类为<strong>“数据科学笔记本”</strong>工具。</p><p>与jupyter<a href="https://stackshare.io/stackups/jupyter-vs-zeppelin" target="_blank" rel="noopener noreferrer">详细比较</a>。</p><p><a href="https://zeppelin.apache.org/docs/latest/interpreter/flink.html" target="_blank" rel="noopener noreferrer">官方</a>文档翻译：</p><p>在 Zeppelin 0.9 中，我们重构了 Zeppelin 中的 Flink 解释器以支持最新版本的 Flink。<strong>仅支持 Flink 1.10+，旧版本的 flink 将无法使用。</strong> Zeppelin 支持 Apache Flink，Flink 解释器组由下面列出的五个<strong>解释器</strong>(interpreter)组成。</p><table><thead><tr><th align="center">姓名</th><th align="center">班级</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">%flink</td><td align="center">Flink 解释器</td><td align="center">创建 ExecutionEnvironment/StreamExecutionEnvironment/BatchTableEnvironment/StreamTableEnvironment 并提供 <strong>Scala</strong> 环境</td></tr><tr><td align="center">%flink.pyflink</td><td align="center">PyFlink 解释器</td><td align="center">提供python环境</td></tr><tr><td align="center">%flink.ipyflink</td><td align="center">IPyFlink解释器</td><td align="center">提供 ipython 环境</td></tr><tr><td align="center">%flink.ssql</td><td align="center">FlinkStreamSqlInterpreter</td><td align="center">提供流式sql环境</td></tr><tr><td align="center">%flink.bsql</td><td align="center">FlinkBatchSqlInterpreter</td><td align="center">提供批处理sql环境</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="特点">特点<a href="#特点" class="hash-link" aria-label="特点的直接链接" title="特点的直接链接">​</a></h3><table><thead><tr><th align="center">特征</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">支持多个版本的 Flink</td><td align="center">您可以在一个 Zeppelin 实例中运行不同版本的 Flink</td></tr><tr><td align="center">支持多个版本的Scala</td><td align="center">您可以在 Zeppelin 实例上运行不同的 Scala 版本的 Flink</td></tr><tr><td align="center">支持多种语言</td><td align="center">支持Scala、Python、SQL，此外你还可以跨语言协作，例如你可以编写Scala UDF并在PyFlink中使用它</td></tr><tr><td align="center">支持多种执行模式</td><td align="center">Local <!-- -->|<!-- --> Remote <!-- -->|<!-- --> Yarn <!-- -->|<!-- -->  Yarn Application</td></tr><tr><td align="center">支持Hive</td><td align="center">支持 Hive 目录</td></tr><tr><td align="center">交互式开发</td><td align="center">交互式开发用户体验提高您的生产力</td></tr><tr><td align="center">Flink SQL 的增强</td><td align="center"><em> 一个笔记本同时支持流式和批处理sql<br> </em> 支持sql注释（单行注释/多行注释）<br> <em> 支持高级配置（jobName，并行度）<br> </em> 支持多条insert语句</td></tr><tr><td align="center">多租户</td><td align="center">多个用户可以在一个 Zeppelin 实例中工作而不会相互影响。</td></tr><tr><td align="center">休息 API 支持</td><td align="center">你不仅可以通过 Zeppelin notebook UI 提交 Flink 作业，还可以通过它的 rest api 来提交（你可以使用 Zeppelin 作为 Flink 作业服务器）。</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="快速启动">快速启动<a href="#快速启动" class="hash-link" aria-label="快速启动的直接链接" title="快速启动的直接链接">​</a></h3><p>（dockers， 映射本地flink二进制程序到容器中, 验证本地模式）（8081端口：flink UI）</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">docker</span><span class="token plain"> run -u </span><span class="token variable" style="color:#E36209">$(</span><span class="token variable function" style="color:#8250DF">id</span><span class="token variable" style="color:#E36209"> -u</span><span class="token variable" style="color:#E36209">)</span><span class="token plain"> -p </span><span class="token number" style="color:#005CC5">8080</span><span class="token plain">:8080 -p </span><span class="token number" style="color:#005CC5">8081</span><span class="token plain">:8081 --rm -v /mnt/disk1/flink-1.12.2:/opt/flink -e </span><span class="token assign-left variable" style="color:#E36209">FLINK_HOME</span><span class="token operator" style="color:#D73A49">=</span><span class="token plain">/opt/flink  --name zeppelin apache/zeppelin:0.10.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="架构">架构<a href="#架构" class="hash-link" aria-label="架构的直接链接" title="架构的直接链接">​</a></h3><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553553.png" alt="img" class="img_ev3q"></p><p>上图是 Flink on Zeppelin 的架构。左侧的 Flink 解释器实际上是一个 Flink 客户端，负责编译和管理 Flink 作业生命周期，例如提交、取消作业、监控作业进度等。右侧的 Flink 集群是执行 Flink 作业的地方。它可以是 MiniCluster（本地模式）、Standalone 集群（远程模式）、Yarn 会话集群（yarn 模式）或 Yarn 应用会话集群（yarn-application 模式）</p><p>Flink 解释器中有两个重要的组件：Scala shell &amp; Python shell</p><ul><li>Scala shell 是 Flink 解释器的入口点，它会创建 Flink 程序的所有入口点，例如 ExecutionEnvironment，StreamExecutionEnvironment 和 TableEnvironment。Scala shell 负责编译和运行 Scala 代码和 sql。</li><li>Python shell 是 PyFlink 的入口，它负责编译和运行 Python 代码。</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="配置">配置<a href="#配置" class="hash-link" aria-label="配置的直接链接" title="配置的直接链接">​</a></h3><p>连接到Flink集群：</p><table><thead><tr><th align="center">财产</th><th align="center">默认</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>FLINK_HOME</code></td><td align="center"></td><td align="center">Flink 安装位置。必须指定，否则不能在 Zeppelin 中使用 Flink</td></tr><tr><td align="center"><code>HADOOP_CONF_DIR</code></td><td align="center"></td><td align="center">hadoop conf的位置，如果在yarn模式下运行必须设置</td></tr><tr><td align="center"><code>HIVE_CONF_DIR</code></td><td align="center"></td><td align="center">hive conf 的位置，如果要连接到 hive 元存储，必须设置此项</td></tr><tr><td align="center">flink.execution.mode</td><td align="center">local</td><td align="center">Execution mode of Flink, e.g. local <!-- -->|<!-- --> remote <!-- -->|<!-- -->yarn <!-- -->|<!-- -->yarn-application</td></tr><tr><td align="center">flink.execution.remote.host</td><td align="center"></td><td align="center">运行 JobManager 的主机名。仅用于远程模式</td></tr><tr><td align="center">flink.execution.remote.port</td><td align="center"></td><td align="center">运行 JobManager 的端口。仅用于远程模式</td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="第三方依赖">第三方依赖<a href="#第三方依赖" class="hash-link" aria-label="第三方依赖的直接链接" title="第三方依赖的直接链接">​</a></h3><p>通过<a href="https://zeppelin.apache.org/docs/latest/usage/interpreter/overview.html#inline-generic-configuration" target="_blank" rel="noopener noreferrer">内联配置</a>实现具体note下的依赖包：</p><ol><li><p>flink.execution.packages。类似pom中添加依赖</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%flink.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flink.execution.packages  org.apache.flink:flink-connector-kafka_2.11:1.10.0,org.apache.flink:flink-connector-kafka-base_2.11:1.10.0,org.apache.flink:flink-json:1.10.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><ol start="2"><li><p>flink.execution.jars. 配置外部依赖的jar包文件路径</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%flink.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">flink.execution.jars /usr/lib/flink-kafka/target/flink-kafka-1.0-SNAPSHOT.jar</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="flink-udf">Flink UDF<a href="#flink-udf" class="hash-link" aria-label="Flink UDF的直接链接" title="Flink UDF的直接链接">​</a></h3><p>在 Zeppelin 中有 4 种方法可以定义 UDF。</p><ul><li><p>编写 Scala UDF</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">%flink</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class ScalaUpper extends ScalarFunction {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def eval(str: String) = str.toUpperCase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">btenv.registerFunction(&quot;scala_upper&quot;, new ScalaUpper())</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ul><li><p>编写 PyFlink UDF</p></li><li><p>通过 SQL 创建 UDF</p><p>通过IDE编写复杂的UDF库，然后通过SQL语句注册到环境。一般需配合通过flink.udf.jars方式引入库。</p><div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#D73A49">%</span><span class="token plain">flink</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ssql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#CF222E">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#CF222E">FUNCTION</span><span class="token plain"> myupper </span><span class="token keyword" style="color:#CF222E">AS</span><span class="token plain"> </span><span class="token string" style="color:#C6105F">&#x27;org.apache.zeppelin.flink.udf.JavaUpper&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>通过 flink.udf.jars 配置 udf jar</p></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hive">Hive<a href="#hive" class="hash-link" aria-label="Hive的直接链接" title="Hive的直接链接">​</a></h3><p>配置：</p><p>zeppelin.flink.enableHive=true</p><p>HIVE_CONF_DIR</p><p>复制：</p><ul><li>flink-connector-hive_2.11–*.jar</li><li>flink-hadoop-compatibility_2.11–*.jar</li><li>hive-exec-2.x.jar</li></ul><p>本地属性：（解释器上面的参数）</p><table><thead><tr><th align="center">Property</th><th align="center">Default</th><th align="center">Description</th></tr></thead><tbody><tr><td align="center">type</td><td align="center"></td><td align="center">Used in %flink.ssql to 指定流式数据的显示类型 (single, update, append)</td></tr><tr><td align="center">refreshInterval</td><td align="center">3000</td><td align="center">Used in <code>%flink.ssql</code> 指定流式数据刷新周期.</td></tr><tr><td align="center">template</td><td align="center">{0}</td><td align="center">Used in <code>%flink.ssql</code> to specify html template for <code>single</code> type of streaming data visualization, And you can use <code>{i}</code> as placeholder for the {i}th column of the result.</td></tr><tr><td align="center">parallelism</td><td align="center"></td><td align="center">Used in %flink.ssql &amp; %flink.bsql to specify the flink sql job parallelism</td></tr><tr><td align="center">maxParallelism</td><td align="center"></td><td align="center">Used in %flink.ssql &amp; %flink.bsql to specify the flink sql job max parallelism in case you want to change parallelism later. For more details, refer this <a href="https://ci.apache.org/projects/flink/flink-docs-release-1.10/dev/parallel.html#setting-the-maximum-parallelism" target="_blank" rel="noopener noreferrer">link</a></td></tr><tr><td align="center">savepointDir</td><td align="center"></td><td align="center">If you specify it, then when you cancel your flink job in Zeppelin, it would also do savepoint and store state in this directory. And when you resume your job, it would resume from this savepoint.</td></tr><tr><td align="center">execution.savepoint.path</td><td align="center"></td><td align="center">When you resume your job, it would resume from this savepoint path.</td></tr><tr><td align="center">resumeFromSavepoint</td><td align="center"></td><td align="center">Resume flink job from savepoint if you specify savepointDir.</td></tr><tr><td align="center">resumeFromLatestCheckpoint</td><td align="center"></td><td align="center">Resume flink job from latest checkpoint if you enable checkpoint.</td></tr><tr><td align="center">runAsOne</td><td align="center">false</td><td align="center">All the insert into sql will run in a single flink job if this is true.（让多条SQL insert语句在同一个job中运行）</td></tr></tbody></table><p>以下信息摘抄自 Oracle Big Data Blog</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="数据湖安全"><a href="https://blogs.oracle.com/bigdata/post/6-ways-to-improve-data-lake-security" target="_blank" rel="noopener noreferrer">数据湖安全</a><a href="#数据湖安全" class="hash-link" aria-label="数据湖安全的直接链接" title="数据湖安全的直接链接">​</a></h2><ol><li><p>建立治理：为所有的数据构建数据湖。作为原始和非结构化数据的存储库，它可以从任何来源提取几乎任何东西。要了解如何管理、处理和使用这些数据，避免形成数据沼泽。通过治理，可以识别所有权、敏感数据的安全规则、数据历史、数据血缘</p></li><li><p>访问：建立不同级别的用户访问权限</p></li><li><p>使用机器学习： 一些数据湖平台带有内置的机器学习 (ML) 功能。机器学习的使用可以通过加速原始数据处理和分类来显着降低安全风险</p></li><li><p>分区和层次结构：当数据被摄取到数据湖中时，将其存储在适当的分区中很重要。在《数据湖最佳实践》中包括原始区、生产区、工作区和敏感区。这里从不同维度划分：时间、原始（原始，包含对敏感的加密后）、受信任（便于用户-科学家、分析师等轻松访问）、精炼（最终输出）</p></li><li><p>数据生命周期：淘汰陈旧数据，甚至通过ML实现自动实现数据的冷热切换，最大化资源利用率</p></li><li><p>数据加密：加密对数据安全至关重要，尤其敏感数据</p></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="qubole">Qubole<a href="#qubole" class="hash-link" aria-label="Qubole的直接链接" title="Qubole的直接链接">​</a></h2><p>用于分析，人工智能，机器学习的云原生平台。</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281553230.png" alt="img" class="img_ev3q"></p><p>集成的组件：Spark/Presto/Hive/Quantum/Airflow(工作流ETL)</p><p>任何数据湖设计都应包含元数据存储策略，以使业务用户能够搜索、定位和了解湖中可用的数据集。</p><ul><li><p>可以强制创建元数据</p></li><li><p>自动创建元数据</p></li><li><p>允许搜索元数据的数据目录</p></li><li><p>访问和挖掘（Access and Mining）:读取模式</p><ul><li>Schema on Write -&gt; Schema on Read</li></ul></li><li><p>数据处理</p><ul><li><p>组合连接不同的数据集</p></li><li><p>Denormalization 反范式化</p><blockquote><p>题外：例如将用户和用户地址表join&#x27;存储就属于反范式化设计；范式化虽然节省存储空间、简化更新，但反范式化方便查询。 提升数据库性能的手段就可以包括：索引、物化视图、缓存、反范式化</p></blockquote></li><li><p>Cleansing, deduplication, householding。清洗、去重、家计</p></li><li><p>派生计算数据字段</p></li></ul></li></ul><p><strong>数据湖平台应提供：</strong></p><ul><li>多种数据处理引擎选项，例如 Spark、Hadoop/Hive、Presto 等。这对于支持广泛的用例至关重要。</li><li>一个基于开放标准的 Metastore，例如 Hive，然后可以从 Hive、Presto 和 Spark SQL 中使用</li><li>与 AWS Glue 的目录集成。</li><li>支持可用于从元数据中获取有用信息的 AIR（警报、见解和建议）</li><li>支持 Kafka Schema 注册表（用于流数据集）。</li><li>数据仓库解决方案的连接器，例如 Snowflake、Redshift、BigQuery、Azure SQL 数据库等。</li><li>MySQL、Oracle、MongoDB、Vertica、SQL Server 等流行商业数据库的连接器。</li><li>无服务器计算选项（例如 Presto）可以经济高效地满足交互式查询要求。</li><li>基于浏览器的统一 UI 供分析师运行查询。</li><li>用于从 BI 工具（如 Tableau、Looker、Click View、SuperSet、Redash 等）进行查询的 JDBC/ODBC 驱动程序。</li><li>适用于数据科学家和分析师的 Jupyter/Zeppelin notebook。</li><li>适用于 Python 和 R 的基于 UI 的数据科学包管理。</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="airflow">AirFlow<a href="#airflow" class="hash-link" aria-label="AirFlow的直接链接" title="AirFlow的直接链接">​</a></h2><p>工作流管理平台（Python）</p><p><a href="https://airflow.apache.org/" target="_blank" rel="noopener noreferrer">官网</a> 、<a href="https://www.modb.pro/db/106690" target="_blank" rel="noopener noreferrer">入门概念</a></p><p>实操Shell (docker-compose quick-start)</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">curl</span><span class="token plain"> -LfO </span><span class="token string" style="color:#C6105F">&#x27;https://airflow.apache.org/docs/apache-airflow/2.2.3/docker-compose.yaml&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 设置文件夹权限；docker-compose mount dirs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">mkdir</span><span class="token plain"> -p ./dags ./logs ./plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name" style="color:#116329">echo</span><span class="token plain"> -e </span><span class="token string" style="color:#C6105F">&quot;AIRFLOW_UID=</span><span class="token string variable" style="color:#E36209">$(</span><span class="token string variable function" style="color:#8250DF">id</span><span class="token string variable" style="color:#E36209"> -u</span><span class="token string variable" style="color:#E36209">)</span><span class="token string" style="color:#C6105F">&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#D73A49">&gt;</span><span class="token plain"> .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 初始化数据库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> up airflow-init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 清理环境；清理目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># docker-compose down --volumes --remove-orphans</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 启动AirFlow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> up</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>quick-start中的模块：</p><ul><li><code>airflow-scheduler</code> - The <a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/scheduler.html" target="_blank" rel="noopener noreferrer">scheduler</a> monitors all tasks and DAGs, then triggers the task instances once their dependencies are complete.</li><li><code>airflow-webserver</code> - The webserver is available at <code>http://localhost:8080</code>.</li><li><code>airflow-worker</code> - The worker that executes the tasks given by the scheduler.</li><li><code>airflow-init</code> - The initialization service.</li><li><code>flower</code> - <a href="https://flower.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">The flower app</a> for monitoring the environment. It is available at <code>http://localhost:5555</code>.</li><li><code>postgres</code> - The database.</li><li><code>redis</code> - <a href="https://redis.io/" target="_blank" rel="noopener noreferrer">The redis</a> - broker that forwards messages from scheduler to worker.</li></ul><p>通过CLI访问：</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#8250DF">docker-compose</span><span class="token plain"> run airflow-worker airflow info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 或者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">curl</span><span class="token plain"> -LfO </span><span class="token string" style="color:#C6105F">&#x27;https://airflow.apache.org/docs/apache-airflow/2.2.3/airflow.sh&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#8250DF">chmod</span><span class="token plain"> +x airflow.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./airflow.sh info </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 显示airflow服务信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./airflow.sh </span><span class="token function" style="color:#8250DF">bash</span><span class="token plain"> </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 进入容器bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./airflow.sh python </span><span class="token comment" style="color:#6B6B6B;font-style:italic"># 进入python控制台</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>启动浏览器访问：http://localhost:8080 用户密码 <code>airflow</code></p><p>DAG查看界面：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554742.png" alt="image-20220210155752796" class="img_ev3q"></p><p>分别以树形和图</p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554165.png" class="img_ev3q"></p><p> <img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554732.png" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="大数据处理中的lambda架构和kappa架构"><a href="https://www.cnblogs.com/xiaodf/p/11642555.html" target="_blank" rel="noopener noreferrer">大数据处理中的Lambda架构和Kappa架构</a><a href="#大数据处理中的lambda架构和kappa架构" class="hash-link" aria-label="大数据处理中的lambda架构和kappa架构的直接链接" title="大数据处理中的lambda架构和kappa架构的直接链接">​</a></h2><ul><li>数据采集</li></ul><p>将应用程序产生的数据和日志等同步到大数据系统中，由于数据源不同，这里的数据同步系统实际上是多个相关系统的组合。数据库同步通常用 Sqoop （目前项目退休，使用spark或flink替代），日志同步可以选择 Flume，打点采集的数据经过格式化转换后通过 Kafka 等消息队列进行传递。</p><ul><li>数据处理</li></ul><p>这部分是大数据存储与计算的核心，数据同步系统导入的数据存储在 HDFS。MapReduce、Hive、Spark 等计算任务读取 HDFS 上的数据进行计算，再将计算结果写入 HDFS。</p><ul><li>数据输出与展示</li></ul><p>大数据计算产生的数据还是写入到 HDFS 中，但应用程序不可能到 HDFS 中读取数据，所以必须要将 HDFS 中的数据导出到数据库中。</p><p>Lambda架构：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554943.jpg" alt="img" class="img_ev3q"></p><p>Lambda架构(Lambda Architecture),总共由三层系统组成：</p><p>批处理层（Batch Layer），速度处理层（Speed Layer）以及响应查询的服务层（Serving Layer）。</p><p>Kappa架构：</p><p>以kafka为例说明：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554564.png" alt="img" class="img_ev3q"></p><p>去掉了批处理层，仅保留了速度层。实现流批一体</p><p>以下为其他内容补充</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="hudi-pk-iceberg">Hudi Pk Iceberg<a href="#hudi-pk-iceberg" class="hash-link" aria-label="Hudi Pk Iceberg的直接链接" title="Hudi Pk Iceberg的直接链接">​</a></h2><p><a href="https://view.inews.qq.com/a/20210909A0ARO400" target="_blank" rel="noopener noreferrer">终于有人将数据湖讲明白了</a></p><p><a href="https://www.cnblogs.com/leesf456/p/12710118.html" target="_blank" rel="noopener noreferrer">Hudi设计和架构解读</a></p><p><a href="https://www.infoq.cn/article/08t12zv6ev9spxalpklq" target="_blank" rel="noopener noreferrer">新一代流式数据湖平台</a></p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554389.png" alt="img" class="img_ev3q"></p><p><strong>网易严选Iceberg应用实践</strong></p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281554064.png" alt="img" class="img_ev3q"></p><p>Datahub-canal: 主要用途是基于 MySQL 数据库增量日志解析，提供增量数据订阅和消费。 </p><p>Flune: Apache Flume是一个分布式、可靠及可用的服务，用于有效地收集、聚合和移动大量日志数据。</p><p>DataLake 数据湖</p><p>ODS（Operational Data Store）运营数据存储. 面向主题的、集成的、可更新的、当前或接近当前的。
DW（Data Warehouse）数据仓储
DM（Data Market）数据集市</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="schema-registry">Schema Registry<a href="#schema-registry" class="hash-link" aria-label="Schema Registry的直接链接" title="Schema Registry的直接链接">​</a></h2><blockquote><p>【<a href="https://github.com/confluentinc/schema-registry" target="_blank" rel="noopener noreferrer">Github</a>】Confluent Schema Registry provides a serving layer for your metadata. It provides a RESTful interface for storing and retrieving your Avro®, JSON Schema, and Protobuf schemas. It stores a versioned history of all schemas based on a specified subject name strategy, provides multiple compatibility settings and allows evolution of schemas according to the configured compatibility settings and expanded support for these schema types. It provides serializers that plug into Apache Kafka® clients that handle schema storage and retrieval for Kafka messages that are sent in any of the supported formats.</p></blockquote><p><a href="https://www.cnblogs.com/emqx/p/11547881.html" target="_blank" rel="noopener noreferrer">博文</a>中介绍了EMQ X企业版中Schema Registry功能，处理各类编解码协议。</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281556600.png" alt="img" class="img_ev3q"></p><p>Schema Registry和Rule Engine在EMQX中的应用：</p><p><img loading="lazy" src="https://raw.githubusercontent.com/vinloong/imgchr/main/notes/img/202202281556479.png" alt="img" class="img_ev3q"></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="oracle大数据湖服务集成工具">Oracle大数据湖服务集成工具<a href="#oracle大数据湖服务集成工具" class="hash-link" aria-label="Oracle大数据湖服务集成工具的直接链接" title="Oracle大数据湖服务集成工具的直接链接">​</a></h2><ol><li>ML</li><li>数据目录</li><li>Analytics 集成的数据分析工具</li><li>Graph Analytics 集成的图形分析工具</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2023-02-09T03:21:02.000Z">2023年2月9日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/dev&amp;ops/bigdata"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">bigdata</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dev&amp;ops/bigdata/RelatedTerms"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">RelatedTerms</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#datahub" class="table-of-contents__link toc-highlight">DataHub</a><ul><li><a href="#安装" class="table-of-contents__link toc-highlight">安装</a></li></ul></li><li><a href="#amundsen" class="table-of-contents__link toc-highlight">Amundsen</a><ul><li><a href="#databuilder" class="table-of-contents__link toc-highlight">Databuilder</a></li><li><a href="#neo4j" class="table-of-contents__link toc-highlight">Neo4j</a></li></ul></li><li><a href="#atlas" class="table-of-contents__link toc-highlight">Atlas</a></li><li><a href="#ranger" class="table-of-contents__link toc-highlight">Ranger</a></li><li><a href="#datax" class="table-of-contents__link toc-highlight">DataX</a></li><li><a href="#cdc" class="table-of-contents__link toc-highlight">CDC</a></li><li><a href="#flink-cdc-connectors" class="table-of-contents__link toc-highlight">Flink CDC Connectors</a><ul><li><a href="#mysql启动cdc" class="table-of-contents__link toc-highlight">MySql启动CDC</a></li><li><a href="#postgres启动cdc-参考" class="table-of-contents__link toc-highlight">Postgres启动CDC 参考</a></li><li><a href="#报错记录" class="table-of-contents__link toc-highlight">报错记录</a></li></ul></li><li><a href="#zeppelin-flink解释器" class="table-of-contents__link toc-highlight">Zeppelin Flink解释器</a><ul><li><a href="#特点" class="table-of-contents__link toc-highlight">特点</a></li><li><a href="#快速启动" class="table-of-contents__link toc-highlight">快速启动</a></li><li><a href="#架构" class="table-of-contents__link toc-highlight">架构</a></li><li><a href="#配置" class="table-of-contents__link toc-highlight">配置</a></li><li><a href="#第三方依赖" class="table-of-contents__link toc-highlight">第三方依赖</a></li><li><a href="#flink-udf" class="table-of-contents__link toc-highlight">Flink UDF</a></li><li><a href="#hive" class="table-of-contents__link toc-highlight">Hive</a></li></ul></li><li><a href="#数据湖安全" class="table-of-contents__link toc-highlight">数据湖安全</a></li><li><a href="#qubole" class="table-of-contents__link toc-highlight">Qubole</a></li><li><a href="#airflow" class="table-of-contents__link toc-highlight">AirFlow</a></li><li><a href="#大数据处理中的lambda架构和kappa架构" class="table-of-contents__link toc-highlight">大数据处理中的Lambda架构和Kappa架构</a></li><li><a href="#hudi-pk-iceberg" class="table-of-contents__link toc-highlight">Hudi Pk Iceberg</a></li><li><a href="#schema-registry" class="table-of-contents__link toc-highlight">Schema Registry</a></li><li><a href="#oracle大数据湖服务集成工具" class="table-of-contents__link toc-highlight">Oracle大数据湖服务集成工具</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/docs">文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 - 2024 loong's wiki, Inc. Built with <a href="https://docusaurus.io/zh-CN/">Docusaurus</a> .</div></div></div></footer></div>
<script src="/assets/js/runtime~main.68f25493.js"></script>
<script src="/assets/js/main.88d057a0.js"></script>
</body>
</html>